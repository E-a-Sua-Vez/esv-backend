{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "description": "Returns a hello message from the API",
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Hello message",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "summary": "Root endpoint",
        "tags": [
          "app"
        ]
      }
    },
    "/business/{id}": {
      "get": {
        "description": "Retrieves a business by its unique identifier",
        "operationId": "BusinessController_getBusinessById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Business found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          },
          "404": {
            "description": "Business not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get business by ID",
        "tags": [
          "business"
        ]
      },
      "patch": {
        "description": "Updates an existing business",
        "operationId": "BusinessController_updateBusiness",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Business"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Business updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          },
          "404": {
            "description": "Business not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update business",
        "tags": [
          "business"
        ]
      }
    },
    "/business/keyName/{keyName}": {
      "get": {
        "description": "Retrieves a business by its unique key name",
        "operationId": "BusinessController_getBusinessByKeyName",
        "parameters": [
          {
            "name": "keyName",
            "required": true,
            "in": "path",
            "description": "Business key name",
            "schema": {
              "example": "my-business"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Business found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BusinessKeyNameDetailsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get business by key name",
        "tags": [
          "business"
        ]
      }
    },
    "/business": {
      "get": {
        "description": "Retrieves a list of all businesses",
        "operationId": "BusinessController_getBusiness",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of businesses",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Business"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all businesses",
        "tags": [
          "business"
        ]
      },
      "post": {
        "description": "Creates a new business account",
        "operationId": "BusinessController_createBusiness",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Business"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Business created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Business"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new business",
        "tags": [
          "business"
        ]
      }
    },
    "/business/{id}/whatsapp-connection": {
      "get": {
        "operationId": "BusinessController_getWhatsappConnectionById",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "business"
        ]
      },
      "patch": {
        "operationId": "BusinessController_updateWhatsappConnection",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WhatsappConnection"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "business"
        ]
      }
    },
    "/business/{id}/resquest/whatsapp-connection/{whatsapp}": {
      "post": {
        "operationId": "BusinessController_requestWhatsappConnectionById",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "business"
        ]
      }
    },
    "/business/{id}/return/whatsapp-connection/{instanceId}": {
      "post": {
        "operationId": "BusinessController_returnWhatsappConnectionById",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "business"
        ]
      }
    },
    "/business/{id}/disconnect/whatsapp-connection/{instanceId}": {
      "post": {
        "operationId": "BusinessController_disconnectWhatsappConnectionById",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "business"
        ]
      }
    },
    "/business/{id}/whatsapp-connection/status": {
      "get": {
        "operationId": "BusinessController_statusWhatsappConnectionById",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "business"
        ]
      }
    },
    "/business/user/permissions": {
      "get": {
        "description": "Retrieves permissions for the authenticated user",
        "operationId": "BusinessController_getUserPermissions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Permissions retrieved successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get user permissions",
        "tags": [
          "business"
        ]
      }
    },
    "/commerce/{id}": {
      "get": {
        "description": "Retrieves a commerce by its unique identifier",
        "operationId": "CommerceController_getCommerceById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commerce found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Commerce"
                }
              }
            }
          },
          "404": {
            "description": "Commerce not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerce by ID",
        "tags": [
          "commerce"
        ]
      },
      "patch": {
        "description": "Updates an existing commerce",
        "operationId": "CommerceController_updateCommerce",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Commerce"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Commerce updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Commerce"
                }
              }
            }
          },
          "404": {
            "description": "Commerce not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update commerce",
        "tags": [
          "commerce"
        ]
      }
    },
    "/commerce/details/{id}": {
      "get": {
        "description": "Retrieves detailed commerce information",
        "operationId": "CommerceController_getCommerceDetails",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commerce details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommerceKeyNameDetailsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerce details",
        "tags": [
          "commerce"
        ]
      }
    },
    "/commerce/keyName/{keyName}": {
      "get": {
        "description": "Retrieves a commerce by its unique key name",
        "operationId": "CommerceController_getCommerceByKeyName",
        "parameters": [
          {
            "name": "keyName",
            "required": true,
            "in": "path",
            "description": "Commerce key name",
            "schema": {
              "example": "my-commerce"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commerce found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommerceKeyNameDetailsDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerce by key name",
        "tags": [
          "commerce"
        ]
      }
    },
    "/commerce": {
      "get": {
        "description": "Retrieves a list of all commerces",
        "operationId": "CommerceController_getCommerces",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of commerces",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Commerce"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all commerces",
        "tags": [
          "commerce"
        ]
      },
      "post": {
        "description": "Creates a new commerce/location",
        "operationId": "CommerceController_createCommerce",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Commerce"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Commerce created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Commerce"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new commerce",
        "tags": [
          "commerce"
        ]
      }
    },
    "/commerce/businessId/{businessId}": {
      "get": {
        "description": "Retrieves all commerces for a specific business",
        "operationId": "CommerceController_getCommercesByBusinessId",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of commerces",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Commerce"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerces by business ID",
        "tags": [
          "commerce"
        ]
      }
    },
    "/commerce/businessId/{businessId}/active": {
      "get": {
        "description": "Retrieves all active commerces for a specific business",
        "operationId": "CommerceController_getActiveCommercesByBusinessId",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active commerces",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommerceKeyNameDetailsDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active commerces by business ID",
        "tags": [
          "commerce"
        ]
      }
    },
    "/commerce/notify/monthly-statistics": {
      "post": {
        "operationId": "CommerceController_notifyCommerceStatistics",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "commerce"
        ]
      }
    },
    "/queue/{id}": {
      "get": {
        "description": "Retrieves a queue by its unique identifier",
        "operationId": "QueueController_getQueueById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Queue found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Queue"
                }
              }
            }
          },
          "404": {
            "description": "Queue not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get queue by ID",
        "tags": [
          "queue"
        ]
      },
      "patch": {
        "description": "Updates the configuration of an existing queue",
        "operationId": "QueueController_updateQueue",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Queue"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Queue updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Queue"
                }
              }
            }
          },
          "404": {
            "description": "Queue not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update queue",
        "tags": [
          "queue"
        ]
      }
    },
    "/queue": {
      "get": {
        "description": "Retrieves a list of all queues",
        "operationId": "QueueController_getQueues",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of queues",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Queue"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all queues",
        "tags": [
          "queue"
        ]
      },
      "post": {
        "description": "Creates a new service queue",
        "operationId": "QueueController_createQueue",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Queue"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Queue created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Queue"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new queue",
        "tags": [
          "queue"
        ]
      }
    },
    "/queue/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all queues for a specific commerce",
        "operationId": "QueueController_getQueueByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of queues",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Queue"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get queues by commerce",
        "tags": [
          "queue"
        ]
      }
    },
    "/queue/grouped/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves queues grouped by type for a specific commerce",
        "operationId": "QueueController_getGroupedQueueByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Grouped queues",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get grouped queues by commerce",
        "tags": [
          "queue"
        ]
      }
    },
    "/queue/restart/all": {
      "patch": {
        "operationId": "QueueController_restartAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "queue"
        ]
      }
    },
    "/queue/{id}/estimated-wait-time": {
      "get": {
        "description": "Calculates estimated wait time using intelligent learning from historical data",
        "operationId": "QueueController_getEstimatedWaitTime",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123",
              "type": "string"
            }
          },
          {
            "name": "position",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "method",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Estimated wait time calculated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "estimatedMinutes": {
                      "type": "number",
                      "description": "Estimated wait time in minutes"
                    },
                    "estimatedTime": {
                      "type": "string",
                      "description": "Estimated wait time formatted as HH:MM"
                    },
                    "method": {
                      "type": "string",
                      "description": "Method used: average, median, or p75"
                    },
                    "usingIntelligentEstimation": {
                      "type": "boolean",
                      "description": "Whether intelligent estimation was used"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get estimated wait time for queue",
        "tags": [
          "queue"
        ]
      }
    },
    "/collaborator/{id}": {
      "get": {
        "description": "Retrieves a collaborator by its unique identifier",
        "operationId": "CollaboratorController_getCollaboratorById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Collaborator ID",
            "schema": {
              "example": "collaborator-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Collaborator found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Collaborator"
                }
              }
            }
          },
          "404": {
            "description": "Collaborator not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get collaborator by ID",
        "tags": [
          "collaborator"
        ]
      },
      "patch": {
        "description": "Actualiza los datos básicos de un colaborador",
        "operationId": "CollaboratorController_updateCollaborator",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {}
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Actualizar colaborador",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/details/{id}": {
      "get": {
        "description": "Retrieves detailed collaborator information",
        "operationId": "CollaboratorController_getCollaboratorDetailsById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Collaborator ID",
            "schema": {
              "example": "collaborator-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Collaborator details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Collaborator"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get collaborator details",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator": {
      "get": {
        "description": "Retrieves a list of all collaborators",
        "operationId": "CollaboratorController_getCollaborators",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of collaborators",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Collaborator"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all collaborators",
        "tags": [
          "collaborator"
        ]
      },
      "post": {
        "description": "Creates a new collaborator account",
        "operationId": "CollaboratorController_createCollaborator",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Collaborator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Collaborator created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Collaborator"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new collaborator",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/email/{email}": {
      "get": {
        "description": "Retrieves a collaborator by email address",
        "operationId": "CollaboratorController_getCollaboratorByEmail",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "path",
            "description": "Collaborator email",
            "schema": {
              "example": "collaborator@example.com"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Collaborator found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Collaborator"
                }
              }
            }
          }
        },
        "summary": "Get collaborator by email",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all collaborators for a specific commerce",
        "operationId": "CollaboratorController_getCollaboratorsByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of collaborators",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CollaboratorDetailsDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get collaborators by commerce ID",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/details/commerceId/{commerceId}": {
      "get": {
        "operationId": "CollaboratorController_getDetailsCollaboratorsByCommerceId",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/commerceId/{commerceId}/email/{email}": {
      "get": {
        "operationId": "CollaboratorController_getCollaboratorsByCommerceIdAndEmail",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/desactivate/{id}": {
      "patch": {
        "operationId": "CollaboratorController_desactivate",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/activate/{id}": {
      "patch": {
        "operationId": "CollaboratorController_activate",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/register-token/{id}": {
      "patch": {
        "operationId": "CollaboratorController_registerToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/change-password/{id}": {
      "patch": {
        "operationId": "CollaboratorController_changePassword",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/permission": {
      "patch": {
        "operationId": "CollaboratorController_updateCollaboratorPermission",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/module": {
      "patch": {
        "operationId": "CollaboratorController_updateModule",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/medical-data": {
      "post": {
        "description": "Permite actualizar la información médica específica de un colaborador (licencia, especialización, etc.)",
        "operationId": "CollaboratorController_updateMedicalData",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Actualizar datos médicos del colaborador",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/role": {
      "patch": {
        "description": "Cambia el rol específico del colaborador (médico, enfermero, secretaria, etc.)",
        "operationId": "CollaboratorController_updateCollaboratorRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Actualizar rol del colaborador",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/medical/commerce/{commerceId}": {
      "get": {
        "description": "Retorna solo los colaboradores que son médicos o especialistas con licencia médica",
        "operationId": "CollaboratorController_getMedicalCollaboratorsByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del commerce",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener colaboradores médicos de un commerce",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/for-documents": {
      "get": {
        "description": "Retorna los datos completos del colaborador necesarios para generar documentos médicos",
        "operationId": "CollaboratorController_getCollaboratorForMedicalDocuments",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener colaborador para documentos médicos",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/extended": {
      "patch": {
        "description": "Permite actualizar todos los campos del colaborador incluyendo los nuevos campos médicos",
        "operationId": "CollaboratorController_updateCollaboratorExtended",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Actualización extendida del colaborador",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/digital-signature": {
      "get": {
        "description": "Retorna la URL de la firma digital del colaborador; firma si es privada",
        "operationId": "CollaboratorController_getDigitalSignature",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener URL de la firma digital",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/profile-photo": {
      "get": {
        "description": "Retorna la URL de la foto de perfil del colaborador si existe",
        "operationId": "CollaboratorController_getProfilePhoto",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener URL de la foto de perfil",
        "tags": [
          "collaborator"
        ]
      },
      "post": {
        "description": "Permite subir una nueva foto de perfil para el colaborador",
        "operationId": "CollaboratorController_uploadProfilePhoto",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Subir foto de perfil del colaborador",
        "tags": [
          "collaborator"
        ]
      },
      "patch": {
        "description": "Permite actualizar la URL de la foto de perfil del colaborador",
        "operationId": "CollaboratorController_updateProfilePhotoUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Actualizar URL de la foto de perfil",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/collaborator/{id}/create-associated-professional": {
      "post": {
        "description": "Crea un perfil Professional asociado a partir de los datos del Collaborator. Establece relación bidireccional.",
        "operationId": "CollaboratorController_createAssociatedProfessional",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del colaborador",
            "schema": {
              "example": "collab-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAssociatedProfessionalDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Professional creado y asociado exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "collaborator": {
                      "type": "object",
                      "description": "Collaborator actualizado con isProfessional=true"
                    },
                    "professional": {
                      "type": "object",
                      "description": "Professional creado"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "El colaborador ya tiene un professional asociado"
          },
          "404": {
            "description": "Colaborador no encontrado"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Crear Professional asociado",
        "tags": [
          "collaborator"
        ]
      }
    },
    "/administrator/{id}": {
      "get": {
        "description": "Retrieves an administrator by its unique identifier",
        "operationId": "AdministratorController_getAdministratorById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Administrator ID",
            "schema": {
              "example": "admin-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Administrator found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Administrator"
                }
              }
            }
          },
          "404": {
            "description": "Administrator not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get administrator by ID",
        "tags": [
          "administrator"
        ]
      },
      "patch": {
        "description": "Updates administrator information",
        "operationId": "AdministratorController_updateAdministrator",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Administrator ID",
            "schema": {
              "example": "admin-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "active": {
                    "type": "boolean"
                  },
                  "commercesId": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Administrator updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Administrator"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update administrator",
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator": {
      "post": {
        "description": "Creates a new administrator account",
        "operationId": "AdministratorController_createAdministrator",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "John Doe"
                  },
                  "businessId": {
                    "type": "string",
                    "example": "business-123"
                  },
                  "commercesId": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "email": {
                    "type": "string",
                    "example": "admin@example.com"
                  }
                },
                "required": [
                  "name",
                  "email",
                  "businessId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Administrator created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Administrator"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new administrator",
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator/email/{email}": {
      "get": {
        "description": "Retrieves an administrator by email address",
        "operationId": "AdministratorController_getAdministratorByEmail",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "path",
            "description": "Administrator email",
            "schema": {
              "example": "admin@example.com"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Administrator found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Administrator"
                }
              }
            }
          }
        },
        "summary": "Get administrator by email",
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator/email/{email}/master": {
      "get": {
        "description": "Retrieves a master administrator by email address",
        "operationId": "AdministratorController_getMasterAdministratorByEmail",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "path",
            "description": "Administrator email",
            "schema": {
              "example": "admin@example.com"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Master administrator found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Administrator"
                }
              }
            }
          }
        },
        "summary": "Get master administrator by email",
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator/register-token/{id}": {
      "patch": {
        "operationId": "AdministratorController_registerToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator/change-password/{id}": {
      "patch": {
        "operationId": "AdministratorController_changePassword",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator/businessId/{businessId}": {
      "get": {
        "description": "Retrieves all administrators for a specific business",
        "operationId": "AdministratorController_getAdministratorsByBusinessId",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of administrators",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Administrator"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get administrators by business ID",
        "tags": [
          "administrator"
        ]
      }
    },
    "/administrator/{id}/permission": {
      "patch": {
        "description": "Updates a specific permission for an administrator",
        "operationId": "AdministratorController_updateAdministratorPermission",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Administrator ID",
            "schema": {
              "example": "admin-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "permission-name"
                  },
                  "value": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "name",
                  "value"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Permission updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Administrator"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update administrator permission",
        "tags": [
          "administrator"
        ]
      }
    },
    "/feature-toggle/{id}": {
      "get": {
        "description": "Retrieves a feature toggle by its unique identifier",
        "operationId": "FeatureToggleController_getFeatureToggleById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Feature toggle ID",
            "schema": {
              "example": "feature-toggle-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feature toggle found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeatureToggle"
                }
              }
            }
          },
          "404": {
            "description": "Feature toggle not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get feature toggle by ID",
        "tags": [
          "feature-toggle"
        ]
      },
      "patch": {
        "description": "Updates the active status of a feature toggle",
        "operationId": "FeatureToggleController_updateFeatureToggle",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Feature toggle ID",
            "schema": {
              "example": "feature-toggle-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeatureToggle"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feature toggle updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeatureToggle"
                }
              }
            }
          },
          "404": {
            "description": "Feature toggle not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update feature toggle",
        "tags": [
          "feature-toggle"
        ]
      }
    },
    "/feature-toggle/name/{name}": {
      "get": {
        "description": "Retrieves a feature toggle by its name",
        "operationId": "FeatureToggleController_getFeatureToggleByName",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "description": "Feature toggle name",
            "schema": {
              "example": "new-feature"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feature toggle found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeatureToggle"
                }
              }
            }
          }
        },
        "summary": "Get feature toggle by name",
        "tags": [
          "feature-toggle"
        ]
      }
    },
    "/feature-toggle/options/all": {
      "get": {
        "description": "Retrieves all available feature toggle options",
        "operationId": "FeatureToggleController_getFeatureToggleOptions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of feature toggle options",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FeatureToggleOption"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all feature toggle options",
        "tags": [
          "feature-toggle"
        ]
      }
    },
    "/feature-toggle/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all feature toggles for a specific commerce",
        "operationId": "FeatureToggleController_getFeatureToggleByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of feature toggles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FeatureToggle"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get feature toggles by commerce ID",
        "tags": [
          "feature-toggle"
        ]
      }
    },
    "/feature-toggle/commerceId/{commerceId}/name/{name}": {
      "get": {
        "description": "Retrieves a specific feature toggle for a commerce by name",
        "operationId": "FeatureToggleController_getFeatureToggleByNameAndCommerceId",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "description": "Feature toggle name",
            "schema": {
              "example": "new-feature"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feature toggle found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeatureToggle"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get feature toggle by commerce and name",
        "tags": [
          "feature-toggle"
        ]
      }
    },
    "/feature-toggle": {
      "post": {
        "description": "Creates a new feature toggle for a commerce",
        "operationId": "FeatureToggleController_createFeatureToggle",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeatureToggle"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Feature toggle created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeatureToggle"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new feature toggle",
        "tags": [
          "feature-toggle"
        ]
      }
    },
    "/survey-personalized/{id}": {
      "get": {
        "description": "Retrieves a personalized survey template by its unique identifier",
        "operationId": "SurveyPersonalizedController_getSurveyPersonalizedById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Survey personalized ID",
            "schema": {
              "example": "survey-personalized-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Survey personalized found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SurveyPersonalized"
                }
              }
            }
          },
          "404": {
            "description": "Survey personalized not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized survey by ID",
        "tags": [
          "survey-personalized"
        ]
      },
      "patch": {
        "description": "Updates a personalized survey template",
        "operationId": "SurveyPersonalizedController_updateSurveyPersonalized",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Survey personalized ID",
            "schema": {
              "example": "survey-personalized-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SurveyPersonalized"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Personalized survey updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SurveyPersonalized"
                }
              }
            }
          },
          "404": {
            "description": "Survey personalized not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update personalized survey",
        "tags": [
          "survey-personalized"
        ]
      }
    },
    "/survey-personalized": {
      "get": {
        "description": "Retrieves a list of all personalized survey templates",
        "operationId": "SurveyPersonalizedController_getSurveysPersonalized",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of personalized surveys",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SurveyPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all personalized surveys",
        "tags": [
          "survey-personalized"
        ]
      },
      "post": {
        "description": "Creates a new personalized survey template",
        "operationId": "SurveyPersonalizedController_createSurveyPersonalized",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "commerceId": {
                    "type": "string",
                    "example": "commerce-123"
                  },
                  "type": {
                    "type": "string",
                    "example": "SIMPLE_CSAT"
                  },
                  "attentionDefault": {
                    "type": "boolean"
                  },
                  "hasCSAT": {
                    "type": "boolean"
                  },
                  "hasNPS": {
                    "type": "boolean"
                  },
                  "hasMessage": {
                    "type": "boolean"
                  },
                  "questions": {
                    "type": "array"
                  },
                  "queueId": {
                    "type": "string"
                  }
                },
                "required": [
                  "commerceId",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Personalized survey created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SurveyPersonalized"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new personalized survey",
        "tags": [
          "survey-personalized"
        ]
      }
    },
    "/survey-personalized/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all personalized surveys for a specific commerce",
        "operationId": "SurveyPersonalizedController_getSurveysPersonalizedByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of personalized surveys",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SurveyPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized surveys by commerce",
        "tags": [
          "survey-personalized"
        ]
      }
    },
    "/survey-personalized/commerceId/{commerceId}/queueId/{queueId}": {
      "get": {
        "description": "Retrieves personalized surveys for a specific queue",
        "operationId": "SurveyPersonalizedController_getSurveysPersonalizedByQueueId",
        "parameters": [
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of personalized surveys",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SurveyPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized surveys by queue",
        "tags": [
          "survey-personalized"
        ]
      }
    },
    "/notification": {
      "get": {
        "description": "Retrieves a list of all notifications",
        "operationId": "NotificationController_getNotifications",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of notifications",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Notification"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all notifications",
        "tags": [
          "notification"
        ]
      }
    },
    "/notification/third-party/{provider}": {
      "post": {
        "description": "Receives webhook notifications from third-party providers",
        "operationId": "NotificationController_notificationWebhook",
        "parameters": [
          {
            "name": "provider",
            "required": true,
            "in": "path",
            "description": "Notification provider",
            "schema": {
              "example": "twilio"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Webhook payload from provider",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook processed successfully"
          },
          "400": {
            "description": "Invalid webhook data"
          }
        },
        "summary": "Third-party notification webhook",
        "tags": [
          "notification"
        ]
      }
    },
    "/notification/whatsapp/preprontuario": {
      "post": {
        "description": "Sends a WhatsApp message to remind client to complete preprontuario",
        "operationId": "NotificationController_sendPreprontuarioWhatsapp",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Preprontuario reminder data",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clientId": {
                    "type": "string",
                    "description": "Client ID"
                  },
                  "commerceId": {
                    "type": "string",
                    "description": "Commerce ID"
                  },
                  "email": {
                    "type": "string",
                    "description": "Client email for attention"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Client phone number"
                  },
                  "attentionLink": {
                    "type": "string",
                    "description": "Optional: Direct link to attention form. If not provided, will be generated from attentionId"
                  },
                  "attentionId": {
                    "type": "string",
                    "description": "Optional: Attention ID. Required if attentionLink is not provided"
                  },
                  "queueId": {
                    "type": "string",
                    "description": "Optional: Queue ID"
                  }
                },
                "required": [
                  "clientId",
                  "commerceId",
                  "email",
                  "phone"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "WhatsApp message sent successfully"
          },
          "400": {
            "description": "Invalid request data"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send preprontuario WhatsApp reminder",
        "tags": [
          "notification"
        ]
      }
    },
    "/notification/whatsapp/agreement": {
      "post": {
        "description": "Sends a WhatsApp message to remind client to complete agreement",
        "operationId": "NotificationController_sendAgreementWhatsapp",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Agreement reminder data",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clientId": {
                    "type": "string",
                    "description": "Client ID"
                  },
                  "commerceId": {
                    "type": "string",
                    "description": "Commerce ID"
                  },
                  "email": {
                    "type": "string",
                    "description": "Client email for agreement"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Client phone number"
                  }
                },
                "required": [
                  "clientId",
                  "commerceId",
                  "email",
                  "phone"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "WhatsApp message sent successfully"
          },
          "400": {
            "description": "Invalid request data"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send agreement WhatsApp reminder",
        "tags": [
          "notification"
        ]
      }
    },
    "/notification/{id}": {
      "get": {
        "description": "Retrieves a notification by its unique identifier",
        "operationId": "NotificationController_getNotificationById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Notification ID",
            "schema": {
              "example": "notification-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Notification"
                }
              }
            }
          },
          "404": {
            "description": "Notification not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get notification by ID",
        "tags": [
          "notification"
        ]
      }
    },
    "/plan/{id}": {
      "get": {
        "description": "Retrieves a subscription plan by its unique identifier",
        "operationId": "PlanController_getPlanById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Plan ID",
            "schema": {
              "example": "plan-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Plan found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          },
          "404": {
            "description": "Plan not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get plan by ID",
        "tags": [
          "plan"
        ]
      },
      "patch": {
        "description": "Updates the configuration of an existing plan",
        "operationId": "PlanController_updatePlanConfigurations",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Plan ID",
            "schema": {
              "example": "plan-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Plan"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          },
          "404": {
            "description": "Plan not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update plan configurations",
        "tags": [
          "plan"
        ]
      }
    },
    "/plan": {
      "get": {
        "description": "Retrieves a list of all subscription plans",
        "operationId": "PlanController_getPlan",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of plans",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Plan"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all plans",
        "tags": [
          "plan"
        ]
      },
      "post": {
        "description": "Creates a new subscription plan",
        "operationId": "PlanController_createPlan",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Plan"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new plan",
        "tags": [
          "plan"
        ]
      }
    },
    "/plan/online/country/{country}": {
      "get": {
        "description": "Retrieves all online-available plans for a specific country",
        "operationId": "PlanController_getOnlinePlans",
        "parameters": [
          {
            "name": "country",
            "required": true,
            "in": "path",
            "description": "Country code",
            "schema": {
              "example": "CL"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of online plans",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Plan"
                  }
                }
              }
            }
          }
        },
        "summary": "Get online plans by country",
        "tags": [
          "plan"
        ]
      }
    },
    "/plan/init": {
      "post": {
        "description": "Initializes default subscription plans in the system",
        "operationId": "PlanController_initPlan",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Plans initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Plan"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Initialize plans",
        "tags": [
          "plan"
        ]
      }
    },
    "/plan/{id}/permission": {
      "patch": {
        "description": "Updates a specific permission for a plan",
        "operationId": "PlanController_updatePlanPermission",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Plan ID",
            "schema": {
              "example": "plan-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "permission-name"
                  },
                  "value": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "name",
                  "value"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Permission updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Plan"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update plan permission",
        "tags": [
          "plan"
        ]
      }
    },
    "/rol": {
      "get": {
        "description": "Retrieves a list of all roles",
        "operationId": "RolController_getRoles",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of roles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Rol"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all roles",
        "tags": [
          "rol"
        ]
      },
      "post": {
        "description": "Creates a new role with specified permissions",
        "operationId": "RolController_createRol",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "manager"
                  },
                  "description": {
                    "type": "string",
                    "example": "Manager role"
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Role created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rol"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new role",
        "tags": [
          "rol"
        ]
      }
    },
    "/rol/{id}": {
      "get": {
        "description": "Retrieves a role by its unique identifier",
        "operationId": "RolController_getRolById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Role ID",
            "schema": {
              "example": "rol-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rol"
                }
              }
            }
          },
          "404": {
            "description": "Role not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get role by ID",
        "tags": [
          "rol"
        ]
      }
    },
    "/rol/name/{name}": {
      "get": {
        "description": "Retrieves a role by its name",
        "operationId": "RolController_getRolByName",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "description": "Role name",
            "schema": {
              "example": "admin"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rol"
                }
              }
            }
          }
        },
        "summary": "Get role by name",
        "tags": [
          "rol"
        ]
      }
    },
    "/rol/init": {
      "post": {
        "description": "Initializes default roles in the system",
        "operationId": "RolController_initRol",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Roles initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Rol"
                  }
                }
              }
            }
          }
        },
        "summary": "Initialize roles",
        "tags": [
          "rol"
        ]
      }
    },
    "/rol/sync": {
      "post": {
        "description": "Synchronizes roles permissions from rol.json file to database. Updates existing roles and creates new ones if needed.",
        "operationId": "RolController_syncRoles",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Roles synchronized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Rol"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Sync roles from JSON",
        "tags": [
          "rol"
        ]
      }
    },
    "/rol/{id}/permission": {
      "patch": {
        "description": "Updates a specific permission for a role",
        "operationId": "RolController_updateRolPermission",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Role ID",
            "schema": {
              "example": "rol-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "permission-name"
                  },
                  "value": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "name",
                  "value"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Permission updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rol"
                }
              }
            }
          },
          "404": {
            "description": "Role not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update role permission",
        "tags": [
          "rol"
        ]
      }
    },
    "/plan-activation/{id}": {
      "get": {
        "description": "Retrieves a plan activation by its unique identifier",
        "operationId": "PlanActivationController_getPlanActivationById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Plan activation ID",
            "schema": {
              "example": "plan-activation-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Plan activation found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanActivation"
                }
              }
            }
          },
          "404": {
            "description": "Plan activation not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get plan activation by ID",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/plan-activation/businessId/{id}": {
      "get": {
        "description": "Retrieves all plan activations for a specific business",
        "operationId": "PlanActivationController_getPlanActivationByBusinessId",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of plan activations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlanActivation"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get plan activations by business ID",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/plan-activation/validated/{validated}/businessId/{id}": {
      "get": {
        "description": "Retrieves a validated plan activation for a business",
        "operationId": "PlanActivationController_getValidatedPlanActivationByBusinessId",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123"
            }
          },
          {
            "name": "validated",
            "required": true,
            "in": "path",
            "description": "Validation status",
            "schema": {
              "example": "true"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Validated plan activation found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanActivation"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get validated plan activation by business",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/plan-activation/validated/{validated}": {
      "get": {
        "description": "Retrieves all plan activations filtered by validation status",
        "operationId": "PlanActivationController_getValidatedPlanActivation",
        "parameters": [
          {
            "name": "validated",
            "required": true,
            "in": "path",
            "description": "Validation status",
            "schema": {
              "example": "true"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of plan activations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlanActivation"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get plan activations by validation status",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/plan-activation": {
      "post": {
        "description": "Creates a new plan activation request",
        "operationId": "PlanActivationController_createPlanActivation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlanActivation"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan activation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanActivation"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new plan activation",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/plan-activation/validate/{id}": {
      "patch": {
        "description": "Validates a plan activation with payment information",
        "operationId": "PlanActivationController_validate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Plan activation ID",
            "schema": {
              "example": "plan-activation-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Payment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan activation validated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanActivation"
                }
              }
            }
          },
          "404": {
            "description": "Plan activation not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Validate plan activation",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/plan-activation/desactivate/{id}": {
      "patch": {
        "description": "Deactivates an active plan activation",
        "operationId": "PlanActivationController_desactivate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Plan activation ID",
            "schema": {
              "example": "plan-activation-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Plan deactivated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanActivation"
                }
              }
            }
          },
          "404": {
            "description": "Plan activation not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Deactivate plan",
        "tags": [
          "plan-activation"
        ]
      }
    },
    "/internal-message/system-notification": {
      "post": {
        "operationId": "InternalMessageController_sendSystemNotification",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendSystemNotificationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Notification sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send system notification",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/send": {
      "post": {
        "operationId": "InternalMessageController_sendMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send message (chat)",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/inbox": {
      "get": {
        "operationId": "InternalMessageController_getInbox",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Inbox retrieved"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get user inbox",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/{id}/read": {
      "patch": {
        "operationId": "InternalMessageController_markAsRead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Message marked as read",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Mark message as read",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/bulk/read": {
      "post": {
        "operationId": "InternalMessageController_bulkMarkAsRead",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkReadDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Messages marked as read"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Mark multiple messages as read",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/bulk/archive": {
      "post": {
        "operationId": "InternalMessageController_bulkArchive",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkReadDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Messages archived"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Archive multiple messages",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/{id}/archive": {
      "patch": {
        "operationId": "InternalMessageController_archiveMessage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Message archived",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Archive message",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/conversation": {
      "post": {
        "operationId": "InternalMessageController_getOrCreateConversation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConversationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conversation retrieved or created"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get or create conversation",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/{id}": {
      "get": {
        "operationId": "InternalMessageController_getMessageById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Message retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get message by ID",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/mass/send": {
      "post": {
        "operationId": "InternalMessageController_sendMassMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMassMessageDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mass messages sent"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send mass message (MASTER only)",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/internal-message/conversation/cross-business": {
      "post": {
        "operationId": "InternalMessageController_createCrossBusinessConversation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCrossBusinessConversationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cross-business conversation created"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create cross-business conversation (MASTER only)",
        "tags": [
          "internal-message"
        ]
      }
    },
    "/payment/{id}": {
      "get": {
        "description": "Retrieves a payment by its unique identifier",
        "operationId": "PaymentController_getPaymentById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Payment ID",
            "schema": {
              "example": "payment-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Payment"
                }
              }
            }
          },
          "404": {
            "description": "Payment not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get payment by ID",
        "tags": [
          "payment"
        ]
      }
    },
    "/payment": {
      "post": {
        "description": "Creates a new payment record",
        "operationId": "PaymentController_createPayment",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Payment"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Payment"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new payment",
        "tags": [
          "payment"
        ]
      }
    },
    "/service/{id}": {
      "get": {
        "description": "Retrieves a service by its unique identifier",
        "operationId": "ServiceController_getServiceById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Service ID",
            "schema": {
              "example": "service-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Service"
                }
              }
            }
          },
          "404": {
            "description": "Service not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get service by ID",
        "tags": [
          "service"
        ]
      },
      "patch": {
        "description": "Updates the configuration of an existing service",
        "operationId": "ServiceController_updateService",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Service ID",
            "schema": {
              "example": "service-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Service"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Service updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Service"
                }
              }
            }
          },
          "404": {
            "description": "Service not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update service",
        "tags": [
          "service"
        ]
      }
    },
    "/service": {
      "get": {
        "description": "Retrieves a list of all services",
        "operationId": "ServiceController_getServices",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of services",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Service"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all services",
        "tags": [
          "service"
        ]
      },
      "post": {
        "description": "Creates a new service for a commerce",
        "operationId": "ServiceController_createService",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Service"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Service created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Service"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new service",
        "tags": [
          "service"
        ]
      }
    },
    "/service/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all services for a specific commerce",
        "operationId": "ServiceController_getServiceByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of services",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Service"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get services by commerce",
        "tags": [
          "service"
        ]
      }
    },
    "/service/commerceId/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active services for a specific commerce",
        "operationId": "ServiceController_getActiveServicesByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active services",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Service"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active services by commerce",
        "tags": [
          "service"
        ]
      }
    },
    "/service/list/{ids}": {
      "get": {
        "description": "Retrieves multiple services by their IDs (comma-separated)",
        "operationId": "ServiceController_getServicesById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated service IDs",
            "schema": {
              "example": "service-1,service-2,service-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of services",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Service"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get services by IDs",
        "tags": [
          "service"
        ]
      }
    },
    "/professional/photo-url/{id}": {
      "get": {
        "description": "Returns a signed URL for the professional profile photo. No authentication required.",
        "operationId": "ProfessionalController_getProfilePhotoUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "example": "professional-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Signed URL returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "description": "Professional not found"
          }
        },
        "summary": "Get professional profile photo signed URL (public)",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/by-collaborator/{collaboratorId}": {
      "get": {
        "description": "Retrieves a professional associated with a collaborator",
        "operationId": "ProfessionalController_getProfessionalByCollaboratorId",
        "parameters": [
          {
            "name": "collaboratorId",
            "required": true,
            "in": "path",
            "description": "Collaborator ID",
            "schema": {
              "example": "collaborator-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Professional found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Professional"
                }
              }
            }
          },
          "404": {
            "description": "Professional not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get professional by collaborator ID",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/{id}": {
      "get": {
        "description": "Retrieves a professional by their unique identifier",
        "operationId": "ProfessionalController_getProfessionalById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "example": "professional-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Professional found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Professional"
                }
              }
            }
          },
          "404": {
            "description": "Professional not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get professional by ID",
        "tags": [
          "professional"
        ]
      },
      "patch": {
        "description": "Updates the configuration of an existing professional",
        "operationId": "ProfessionalController_updateProfessional",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "example": "professional-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfessionalDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Professional updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Professional"
                }
              }
            }
          },
          "404": {
            "description": "Professional not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update professional",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional": {
      "get": {
        "description": "Retrieves a list of all professionals",
        "operationId": "ProfessionalController_getProfessionals",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of professionals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Professional"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all professionals",
        "tags": [
          "professional"
        ]
      },
      "post": {
        "description": "Creates a new professional for a business",
        "operationId": "ProfessionalController_createProfessional",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProfessionalDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Professional created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Professional"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new professional",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/business/{businessId}": {
      "get": {
        "description": "Retrieves all professionals for a specific business",
        "operationId": "ProfessionalController_getProfessionalsByBusiness",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of professionals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Professional"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get professionals by business",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all professionals for a specific commerce",
        "operationId": "ProfessionalController_getProfessionalsByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of professionals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Professional"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get professionals by commerce",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/commerce/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active and available professionals for a specific commerce",
        "operationId": "ProfessionalController_getActiveProfessionalsByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active professionals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Professional"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active professionals by commerce",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/list/{ids}": {
      "get": {
        "description": "Retrieves multiple professionals by their IDs (comma-separated)",
        "operationId": "ProfessionalController_getProfessionalsById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated professional IDs",
            "schema": {
              "example": "prof-1,prof-2,prof-3",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of professionals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Professional"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get professionals by IDs",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/service/{serviceId}/available": {
      "get": {
        "description": "Retrieves professionals that can perform a specific service",
        "operationId": "ProfessionalController_getAvailableProfessionalsForService",
        "parameters": [
          {
            "name": "serviceId",
            "required": true,
            "in": "path",
            "description": "Service ID",
            "schema": {
              "example": "service-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of available professionals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Professional"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get available professionals for a service",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/{id}/profile-photo": {
      "get": {
        "description": "Returns the profile photo URL for the professional if it exists",
        "operationId": "ProfessionalController_getProfilePhoto",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get profile photo URL",
        "tags": [
          "professional"
        ]
      },
      "post": {
        "description": "Allows uploading a new profile photo for the professional",
        "operationId": "ProfessionalController_uploadProfilePhoto",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload professional profile photo",
        "tags": [
          "professional"
        ]
      }
    },
    "/professional/{id}/digital-signature": {
      "get": {
        "description": "Returns the digital signature URL for the professional if it exists",
        "operationId": "ProfessionalController_getDigitalSignature",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get digital signature URL",
        "tags": [
          "professional"
        ]
      },
      "post": {
        "description": "Allows uploading a digital signature for the professional",
        "operationId": "ProfessionalController_uploadDigitalSignature",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Professional ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload professional digital signature",
        "tags": [
          "professional"
        ]
      }
    },
    "/attention/{id}": {
      "get": {
        "description": "Retrieves an attention record by its unique identifier",
        "operationId": "AttentionController_getAttentionById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attention found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "404": {
            "description": "Attention not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get attention by ID",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/check-in-call/{id}": {
      "patch": {
        "description": "Envía un mensaje de WhatsApp al cliente para que se acerque al módulo del colaborador para el check-in de la atención y marca la atención como notificada.",
        "operationId": "AttentionController_sendCheckInWhatsappCall",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Llamada de check-in enviada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos o usuario sin teléfono"
          },
          "404": {
            "description": "Atención no encontrada"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Enviar llamada de check-in por WhatsApp",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/details/{id}": {
      "get": {
        "description": "Retrieves detailed attention information",
        "operationId": "AttentionController_getAttentionDetails",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attention details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttentionDetailsDto"
                }
              }
            }
          },
          "403": {
            "description": "Access forbidden"
          },
          "404": {
            "description": "Attention not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get attention details",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/details/queue/{queueId}/number/{number}/status/{status}": {
      "get": {
        "operationId": "AttentionController_getAttentionDetailsByNumber",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/available/details/queue/{queueId}/number/{number}": {
      "get": {
        "operationId": "AttentionController_getAvailableAttentionDetailsByNumber",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/next/available/details/queue/{queueId}": {
      "get": {
        "operationId": "AttentionController_getNextAvailableAttentionDetails",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/details/queue/{queueId}/status/{status}": {
      "get": {
        "operationId": "AttentionController_getAttentionDetailsByQueue",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/available/details/queue/{queueId}": {
      "get": {
        "operationId": "AttentionController_getAvailableAttentiosnByQueue",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/queue/{queueId}/date/{date}": {
      "get": {
        "operationId": "AttentionController_getAttentionByDate",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/processing/details/queue/{queueId}": {
      "get": {
        "operationId": "AttentionController_getProcessingAttentionDetailsByQueue",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention": {
      "post": {
        "operationId": "AttentionController_createAttention",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/{number}": {
      "patch": {
        "operationId": "AttentionController_attend",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/skip/{number}": {
      "patch": {
        "operationId": "AttentionController_skip",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/finish/{id}": {
      "patch": {
        "description": "Finishes an attention. If checkout is enabled, advances to CHECKOUT stage, otherwise terminates directly.",
        "operationId": "AttentionController_finishAttention",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attention finished",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "404": {
            "description": "Attention not found"
          }
        },
        "summary": "Finish attention",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/checkout/{id}/finish": {
      "patch": {
        "description": "Finishes checkout and advances attention to TERMINATED stage. Requires attention-stages-enabled and attention-checkout-enabled feature flags.",
        "operationId": "AttentionController_finishCheckout",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Checkout finished, attention terminated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "400": {
            "description": "Checkout not enabled or attention not in CHECKOUT stage"
          },
          "404": {
            "description": "Attention not found"
          }
        },
        "summary": "Finish checkout",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/finish-cancelled/{id}": {
      "patch": {
        "operationId": "AttentionController_finishCancelledAttention",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/reactivate/{number}": {
      "patch": {
        "operationId": "AttentionController_reactivate",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/notification/{id}": {
      "patch": {
        "operationId": "AttentionController_saveDataNotification",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/no-device/{id}": {
      "patch": {
        "operationId": "AttentionController_setNoDevice",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/cancell/all": {
      "patch": {
        "operationId": "AttentionController_cancellAtentions",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/cancel/{id}": {
      "patch": {
        "operationId": "AttentionController_cancelAttention",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/payment-confirm/{id}": {
      "patch": {
        "operationId": "AttentionController_attentionPaymentConfirm",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/transfer/{id}": {
      "patch": {
        "description": "Transfers an attention to a collaborator queue",
        "operationId": "AttentionController_transferAttentionToQueue",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attention transferred",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "404": {
            "description": "Attention or queue not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Transfer attention to queue",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/{id}/assign-professional": {
      "patch": {
        "description": "Assigns a professional to an attention and auto-suggests commission if configured",
        "operationId": "AttentionController_assignProfessional",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Professional assigned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "400": {
            "description": "Invalid professional assignment"
          },
          "404": {
            "description": "Attention or professional not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Assign professional to attention",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/stage/{id}/advance": {
      "patch": {
        "description": "Advances an attention to a new stage (requires attention-stages-enabled feature)",
        "operationId": "AttentionController_advanceStage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Stage advanced successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          },
          "400": {
            "description": "Feature not enabled or invalid transition"
          },
          "404": {
            "description": "Attention not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Advance attention stage",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/stage/queue/{queueId}/stage/{stage}": {
      "get": {
        "description": "Retrieves attentions filtered by stage for a specific queue",
        "operationId": "AttentionController_getAttentionsByStage",
        "parameters": [
          {
            "name": "stage",
            "required": true,
            "in": "path",
            "description": "Attention stage",
            "schema": {
              "example": "CHECK_IN"
            }
          },
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attentions found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Attention"
                  }
                }
              }
            }
          }
        },
        "summary": "Get attentions by stage",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/track-access/{id}": {
      "patch": {
        "description": "Tracks that a collaborator is accessing/managing an attention (optional tracking)",
        "operationId": "AttentionController_trackAttentionAccess",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Access tracked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Attention"
                }
              }
            }
          }
        },
        "summary": "Track attention access",
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/pending/commerce/{commerceId}": {
      "get": {
        "operationId": "AttentionController_getPendingCommerceBookings",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/attention/scheduled-surveys": {
      "post": {
        "operationId": "AttentionController_surveyPostAttention",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "attention"
        ]
      }
    },
    "/commerce-logos/{commerceId}": {
      "post": {
        "description": "Uploads a new logo for a commerce",
        "operationId": "CommerceLogoController_uploadCommerceLogo",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "Commerce logo file (JPG, PNG, WebP, max 5MB)"
                  },
                  "businessId": {
                    "type": "string",
                    "example": "business-123",
                    "description": "Business ID that owns this commerce"
                  },
                  "logoType": {
                    "type": "string",
                    "example": "commerce_logo",
                    "description": "Type of logo"
                  },
                  "uploadDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Upload date"
                  }
                },
                "required": [
                  "logo",
                  "businessId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Logo uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommerceLogo"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload commerce logo",
        "tags": [
          "commerce-logos"
        ]
      },
      "get": {
        "description": "Retrieves commerce logo URL for access through backend",
        "operationId": "CommerceLogoController_getCommerceLogo",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commerce logo signed URL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Logo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerce logo URL",
        "tags": [
          "commerce-logos"
        ]
      },
      "put": {
        "description": "Replaces the existing commerce logo with a new one",
        "operationId": "CommerceLogoController_updateCommerceLogo",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "New commerce logo file (JPG, PNG, WebP, max 5MB)"
                  },
                  "businessId": {
                    "type": "string",
                    "example": "business-123",
                    "description": "Business ID that owns this commerce"
                  },
                  "logoType": {
                    "type": "string",
                    "example": "commerce_logo",
                    "description": "Type of logo"
                  },
                  "uploadDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Upload date"
                  }
                },
                "required": [
                  "logo",
                  "businessId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logo updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommerceLogo"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file"
          },
          "404": {
            "description": "Commerce not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update commerce logo",
        "tags": [
          "commerce-logos"
        ]
      }
    },
    "/commerce-logos/{commerceId}/{logoId}": {
      "get": {
        "description": "Retrieves and streams the commerce logo file",
        "operationId": "CommerceLogoController_getCommerceLogoFile",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "logoId",
            "required": true,
            "in": "path",
            "description": "Logo ID",
            "schema": {
              "example": "logo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commerce logo file stream"
          },
          "404": {
            "description": "Logo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerce logo file",
        "tags": [
          "commerce-logos"
        ]
      },
      "delete": {
        "description": "Deletes a commerce logo and its thumbnail",
        "operationId": "CommerceLogoController_deleteCommerceLogo",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "logoId",
            "required": true,
            "in": "path",
            "description": "Logo ID",
            "schema": {
              "example": "logo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Logo deleted successfully"
          },
          "403": {
            "description": "Forbidden - Not authorized"
          },
          "404": {
            "description": "Logo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete commerce logo",
        "tags": [
          "commerce-logos"
        ]
      }
    },
    "/commerce-logos/{commerceId}/{logoId}/thumbnail": {
      "get": {
        "description": "Retrieves and streams the commerce logo thumbnail",
        "operationId": "CommerceLogoController_getCommerceLogoThumbnail",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "logoId",
            "required": true,
            "in": "path",
            "description": "Logo ID",
            "schema": {
              "example": "logo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commerce logo thumbnail stream"
          },
          "404": {
            "description": "Thumbnail not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get commerce logo thumbnail",
        "tags": [
          "commerce-logos"
        ]
      }
    },
    "/user/{id}": {
      "get": {
        "description": "Retrieves a user by its unique identifier",
        "operationId": "UserController_getUserById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": {
              "example": "user-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get user by ID",
        "tags": [
          "user"
        ]
      }
    },
    "/user": {
      "get": {
        "description": "Retrieves a list of all users",
        "operationId": "UserController_getUsers",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all users",
        "tags": [
          "user"
        ]
      },
      "post": {
        "description": "Creates a new user account",
        "operationId": "UserController_createUser",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "John"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+56912345678"
                  },
                  "email": {
                    "type": "string",
                    "example": "john@example.com"
                  },
                  "commerceId": {
                    "type": "string",
                    "example": "commerce-123"
                  },
                  "queueId": {
                    "type": "string",
                    "example": "queue-123"
                  },
                  "personalInfo": {
                    "type": "object"
                  },
                  "acceptTermsAndConditions": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "name",
                  "phone",
                  "commerceId",
                  "acceptTermsAndConditions"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new user",
        "tags": [
          "user"
        ]
      }
    },
    "/client/{id}": {
      "get": {
        "description": "Retrieves a client by its unique identifier",
        "operationId": "ClientController_getClientById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Client found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "404": {
            "description": "Client not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get client by ID",
        "tags": [
          "client"
        ]
      },
      "patch": {
        "description": "Updates client information",
        "operationId": "ClientController_updateClient",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "businessId": {
                    "type": "string"
                  },
                  "commerceId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "idNumber": {
                    "type": "string"
                  },
                  "personalInfo": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Client updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "404": {
            "description": "Client not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update client",
        "tags": [
          "client"
        ]
      }
    },
    "/client/search/commerceId/{commerceId}/idNumber/{idNumber}": {
      "get": {
        "description": "Searches for a client by commerce and ID number",
        "operationId": "ClientController_searchClient",
        "parameters": [
          {
            "name": "idNumber",
            "required": true,
            "in": "path",
            "description": "Client ID number",
            "schema": {
              "example": "12345678-9"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Client search result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientSearchDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Search client by ID number",
        "tags": [
          "client"
        ]
      }
    },
    "/client/contact/{id}": {
      "post": {
        "description": "Records a contact attempt with a client",
        "operationId": "ClientController_contactClient",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "result": {
                    "type": "string",
                    "example": "INTERESTED"
                  },
                  "type": {
                    "type": "string",
                    "example": "CALL"
                  },
                  "comment": {
                    "type": "string",
                    "example": "Client showed interest"
                  },
                  "commerceId": {
                    "type": "string",
                    "example": "commerce-123"
                  },
                  "collaboratorId": {
                    "type": "string",
                    "example": "collaborator-123"
                  }
                },
                "required": [
                  "result",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Contact recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientContact"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Contact client",
        "tags": [
          "client"
        ]
      }
    },
    "/client/agreement/status/{commerceId}/{clientId}": {
      "get": {
        "description": "Checks if client has accepted the agreement for the commerce",
        "operationId": "ClientController_getAgreementStatus",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agreement status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "completed": {
                      "type": "boolean"
                    },
                    "completedAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Check agreement completion status",
        "tags": [
          "client"
        ]
      }
    },
    "/consent-orchestration/requests/validate-token/{token}": {
      "get": {
        "description": "Valida un token de solicitud de consentimiento. Endpoint público para el formulario web. Rate limited: 20 requests per minute per IP.",
        "operationId": "ConsentOrchestrationController_validateToken",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Token de la solicitud",
            "schema": {
              "example": "abc123def456",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token válido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean",
                      "example": true
                    },
                    "expired": {
                      "type": "boolean",
                      "example": false
                    },
                    "request": {
                      "type": "object"
                    },
                    "commerce": {
                      "type": "object"
                    },
                    "client": {
                      "type": "object"
                    },
                    "requirements": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded"
          }
        },
        "summary": "Validar token de consentimiento (Público)",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requests/process-response/{token}": {
      "post": {
        "description": "Procesa las respuestas del cliente desde el formulario web. Endpoint público. Rate limited: 10 requests per minute per IP.",
        "operationId": "ConsentOrchestrationController_processResponse",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Token de la solicitud",
            "schema": {
              "example": "abc123def456",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "responses": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "consentType": {
                          "type": "string",
                          "enum": [
                            "DATA_PROCESSING",
                            "DATA_SHARING",
                            "MARKETING",
                            "RESEARCH",
                            "THIRD_PARTY",
                            "DATA_EXPORT",
                            "TELEMEDICINE",
                            "BIOMETRIC",
                            "TERMS_ACCEPTANCE"
                          ],
                          "example": "DATA_PROCESSING"
                        },
                        "granted": {
                          "type": "boolean",
                          "example": true
                        },
                        "notes": {
                          "type": "string",
                          "example": "Cliente acepta el procesamiento de datos"
                        }
                      },
                      "required": [
                        "consentType",
                        "granted"
                      ]
                    }
                  }
                },
                "required": [
                  "responses"
                ],
                "example": {
                  "responses": [
                    {
                      "consentType": "DATA_PROCESSING",
                      "granted": true
                    },
                    {
                      "consentType": "MARKETING",
                      "granted": false,
                      "notes": "Cliente no desea recibir marketing"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Respuesta procesada con éxito",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentRequest"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Token inválido o respuestas mal formadas"
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded"
          }
        },
        "summary": "Procesar respuesta de consentimiento (Público)",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requirements/{commerceId}": {
      "get": {
        "description": "Retorna todos los requisitos de consentimiento activos para un comercio",
        "operationId": "ConsentOrchestrationController_getRequirements",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del comercio",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de requisitos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsentRequirement"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener requisitos de consentimiento de un comercio",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requirements": {
      "post": {
        "description": "Crea un nuevo requisito de consentimiento para un comercio",
        "operationId": "ConsentOrchestrationController_createRequirement",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsentRequirement"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Requisito creado con éxito",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentRequirement"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Crear requisito de consentimiento",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requirements/{id}": {
      "patch": {
        "description": "Actualiza un requisito de consentimiento existente",
        "operationId": "ConsentOrchestrationController_updateRequirement",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del requisito",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Requisito actualizado con éxito",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentRequirement"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Actualizar requisito de consentimiento",
        "tags": [
          "consent-orchestration"
        ]
      },
      "delete": {
        "description": "Elimina (desactiva) un requisito de consentimiento",
        "operationId": "ConsentOrchestrationController_deleteRequirement",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del requisito",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Requisito eliminado con éxito"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Eliminar requisito de consentimiento",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/missing/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna los consentimientos que faltan para un cliente",
        "operationId": "ConsentOrchestrationController_getMissingConsents",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del comercio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID del cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de consentimientos faltantes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsentRequirement"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener consentimientos faltantes",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requests/request-all": {
      "post": {
        "description": "Crea una solicitud para todos los consentimientos pendientes de un cliente",
        "operationId": "ConsentOrchestrationController_requestAllPending",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "commerceId": {
                    "type": "string"
                  },
                  "clientId": {
                    "type": "string"
                  },
                  "timing": {
                    "type": "string",
                    "enum": [
                      "BOOKING",
                      "PRE_ATTENTION",
                      "CHECK_IN",
                      "FIRST_ATTENTION",
                      "ON_REGISTRATION",
                      "ON_LOGIN",
                      "PERIODIC_RENEWAL",
                      "BEFORE_SERVICE",
                      "AFTER_ATTENTION"
                    ]
                  }
                },
                "required": [
                  "commerceId",
                  "clientId",
                  "timing"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Solicitud creada con éxito",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentRequest"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Solicitar todos los consentimientos pendientes",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requests/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna todas las solicitudes de consentimiento para un cliente",
        "operationId": "ConsentOrchestrationController_getRequests",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del comercio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID del cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de solicitudes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsentRequest"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener solicitudes de consentimiento de un cliente",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/status/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna el estado completo de consentimientos para un cliente",
        "operationId": "ConsentOrchestrationController_getConsentStatus",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del comercio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID del cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Estado consolidado de consentimientos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "clientId": {
                      "type": "string"
                    },
                    "commerceId": {
                      "type": "string"
                    },
                    "consents": {
                      "type": "array"
                    },
                    "requirements": {
                      "type": "array"
                    },
                    "missing": {
                      "type": "array"
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "number"
                        },
                        "granted": {
                          "type": "number"
                        },
                        "pending": {
                          "type": "number"
                        },
                        "denied": {
                          "type": "number"
                        },
                        "expired": {
                          "type": "number"
                        },
                        "revoked": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener estado consolidado de consentimientos",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requests/{requestId}/qrcode": {
      "get": {
        "description": "Retorna el QR Code (base64) de una solicitud de consentimiento. Si no existe, lo genera.",
        "operationId": "ConsentOrchestrationController_getRequestQRCode",
        "parameters": [
          {
            "name": "requestId",
            "required": true,
            "in": "path",
            "description": "ID de la solicitud",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "QR Code generado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "qrCodeUrl": {
                      "type": "string",
                      "description": "Data URL completo (data:image/png;base64,...)"
                    },
                    "qrCodeBase64": {
                      "type": "string",
                      "description": "Base64 sin prefijo"
                    },
                    "link": {
                      "type": "string",
                      "description": "Link codificado no QR Code"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener QR Code de una solicitud de consentimiento",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/compliance-metrics/{commerceId}": {
      "get": {
        "description": "Retorna métricas agregadas de compliance para un comercio",
        "operationId": "ConsentOrchestrationController_getComplianceMetrics",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del comercio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Fecha de inicio (ISO string)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "Fecha de fin (ISO string)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Métricas de compliance",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalClients": {
                      "type": "number"
                    },
                    "clientsWithAllConsents": {
                      "type": "number"
                    },
                    "clientsWithPendingConsents": {
                      "type": "number"
                    },
                    "clientsWithExpiredConsents": {
                      "type": "number"
                    },
                    "totalConsents": {
                      "type": "number"
                    },
                    "grantedConsents": {
                      "type": "number"
                    },
                    "pendingConsents": {
                      "type": "number"
                    },
                    "deniedConsents": {
                      "type": "number"
                    },
                    "expiredConsents": {
                      "type": "number"
                    },
                    "revokedConsents": {
                      "type": "number"
                    },
                    "complianceScore": {
                      "type": "number"
                    },
                    "blockingConsents": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener métricas agregadas de compliance LGPD",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/notification-metrics/{commerceId}": {
      "get": {
        "description": "Retorna métricas agregadas de notificaciones enviadas para solicitudes de consentimiento",
        "operationId": "ConsentOrchestrationController_getNotificationMetrics",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID del comercio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Fecha de inicio (ISO string)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "Fecha de fin (ISO string)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Métricas de notificaciones",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalSent": {
                      "type": "number"
                    },
                    "byChannel": {
                      "type": "object",
                      "properties": {
                        "email": {
                          "type": "number"
                        },
                        "whatsapp": {
                          "type": "number"
                        },
                        "sms": {
                          "type": "number"
                        },
                        "push": {
                          "type": "number"
                        },
                        "inApp": {
                          "type": "number"
                        }
                      }
                    },
                    "byStatus": {
                      "type": "object",
                      "properties": {
                        "sent": {
                          "type": "number"
                        },
                        "delivered": {
                          "type": "number"
                        },
                        "failed": {
                          "type": "number"
                        },
                        "pending": {
                          "type": "number"
                        }
                      }
                    },
                    "successRate": {
                      "type": "number"
                    },
                    "dailyBreakdown": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "date": {
                            "type": "string"
                          },
                          "count": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener métricas de notificaciones de consentimiento LGPD",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requirements/{requirementId}/versions": {
      "get": {
        "description": "Retorna todas as versões de um requisito de consentimento",
        "operationId": "ConsentOrchestrationController_getRequirementVersions",
        "parameters": [
          {
            "name": "requirementId",
            "required": true,
            "in": "path",
            "description": "ID do requisito",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de versões",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "requirementId": {
                        "type": "string"
                      },
                      "version": {
                        "type": "number"
                      },
                      "action": {
                        "type": "string",
                        "enum": [
                          "CREATE",
                          "UPDATE",
                          "DELETE"
                        ]
                      },
                      "changedBy": {
                        "type": "string"
                      },
                      "changedAt": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "changedFields": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "changeDescription": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter histórico de versões de um requisito",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/consent-orchestration/requirements/{requirementId}/versions/{version}": {
      "get": {
        "description": "Retorna o snapshot completo de uma versão específica",
        "operationId": "ConsentOrchestrationController_getRequirementVersion",
        "parameters": [
          {
            "name": "requirementId",
            "required": true,
            "in": "path",
            "description": "ID do requisito",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "version",
            "required": true,
            "in": "path",
            "description": "Número da versão",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Versão do requisito",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "requirementId": {
                      "type": "string"
                    },
                    "version": {
                      "type": "number"
                    },
                    "snapshot": {
                      "type": "object"
                    },
                    "action": {
                      "type": "string"
                    },
                    "changedBy": {
                      "type": "string"
                    },
                    "changedAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "changedFields": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter uma versão específica de um requisito",
        "tags": [
          "consent-orchestration"
        ]
      }
    },
    "/lgpd-consent": {
      "post": {
        "description": "Cria um novo consentimento ou atualiza um existente",
        "operationId": "LgpdConsentController_createOrUpdateConsent",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clientId": {
                    "type": "string"
                  },
                  "commerceId": {
                    "type": "string"
                  },
                  "consentType": {
                    "type": "string",
                    "enum": [
                      "DATA_PROCESSING",
                      "DATA_SHARING",
                      "MARKETING",
                      "RESEARCH",
                      "THIRD_PARTY",
                      "DATA_EXPORT",
                      "TELEMEDICINE",
                      "BIOMETRIC",
                      "TERMS_ACCEPTANCE"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "GRANTED",
                      "DENIED",
                      "REVOKED",
                      "EXPIRED",
                      "PENDING"
                    ]
                  },
                  "purpose": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "legalBasis": {
                    "type": "string"
                  },
                  "expiresAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "consentMethod": {
                    "type": "string",
                    "enum": [
                      "WEB",
                      "MOBILE",
                      "PRESENTIAL",
                      "EMAIL",
                      "PHONE",
                      "OTHER"
                    ]
                  },
                  "ipAddress": {
                    "type": "string"
                  },
                  "userAgent": {
                    "type": "string"
                  },
                  "notes": {
                    "type": "string"
                  }
                },
                "required": [
                  "clientId",
                  "commerceId",
                  "consentType",
                  "purpose"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Consentimento criado/atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdConsent"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Criar ou atualizar consentimento LGPD",
        "tags": [
          "lgpd-consent"
        ]
      },
      "get": {
        "description": "Retorna todos os consentimentos com filtros opcionais",
        "operationId": "LgpdConsentController_getAllConsents",
        "parameters": [
          {
            "name": "commerceId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "consentType",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "DATA_PROCESSING",
                "DATA_SHARING",
                "MARKETING",
                "RESEARCH",
                "THIRD_PARTY",
                "DATA_EXPORT",
                "TELEMEDICINE",
                "BIOMETRIC",
                "TERMS_ACCEPTANCE"
              ],
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "GRANTED",
                "DENIED",
                "REVOKED",
                "EXPIRED",
                "PENDING"
              ],
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de consentimentos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LgpdConsent"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter todos os consentimentos",
        "tags": [
          "lgpd-consent"
        ]
      }
    },
    "/lgpd-consent/{id}/revoke": {
      "patch": {
        "description": "Revoga um consentimento ativo",
        "operationId": "LgpdConsentController_revokeConsent",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do consentimento",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Consentimento revogado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdConsent"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Revogar consentimento LGPD",
        "tags": [
          "lgpd-consent"
        ]
      }
    },
    "/lgpd-consent/client/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna todos os consentimentos de um cliente específico",
        "operationId": "LgpdConsentController_getConsentsByClient",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activeOnly",
            "required": false,
            "in": "query",
            "description": "Apenas consentimentos ativos",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de consentimentos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LgpdConsent"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter consentimentos de um cliente",
        "tags": [
          "lgpd-consent"
        ]
      }
    },
    "/lgpd-consent/check/{commerceId}/{clientId}/{consentType}": {
      "get": {
        "description": "Verifica se um cliente tem consentimento ativo para um tipo específico",
        "operationId": "LgpdConsentController_checkActiveConsent",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "consentType",
            "required": true,
            "in": "path",
            "description": "Tipo de consentimento",
            "schema": {
              "enum": [
                "DATA_PROCESSING",
                "DATA_SHARING",
                "MARKETING",
                "RESEARCH",
                "THIRD_PARTY",
                "DATA_EXPORT",
                "TELEMEDICINE",
                "BIOMETRIC",
                "TERMS_ACCEPTANCE"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Status do consentimento",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "hasConsent": {
                      "type": "boolean"
                    },
                    "consent": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Verificar se cliente tem consentimento ativo",
        "tags": [
          "lgpd-consent"
        ]
      }
    },
    "/lgpd-consent/{id}": {
      "get": {
        "description": "Retorna um consentimento específico",
        "operationId": "LgpdConsentController_getConsentById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do consentimento",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Consentimento",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdConsent"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter consentimento por ID",
        "tags": [
          "lgpd-consent"
        ]
      }
    },
    "/lgpd-data-portability/{commerceId}/{clientId}/generate": {
      "post": {
        "description": "Gera um arquivo com todos os dados do paciente em formato estruturado (LGPD)",
        "operationId": "LgpdDataPortabilityController_generateDataPortabilityFile",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Arquivo de portabilidade gerado com sucesso"
          },
          "403": {
            "description": "Cliente não possui consentimento para exportação de dados"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Gerar arquivo de portabilidade de dados",
        "tags": [
          "lgpd-data-portability"
        ]
      }
    },
    "/lgpd-data-portability/{commerceId}/{clientId}/download": {
      "get": {
        "description": "Faz download do arquivo de portabilidade de dados",
        "operationId": "LgpdDataPortabilityController_downloadDataPortabilityFile",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Arquivo de portabilidade"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Download do arquivo de portabilidade",
        "tags": [
          "lgpd-data-portability"
        ]
      }
    },
    "/lgpd-incident": {
      "post": {
        "description": "Cria um novo registro de incidente de segurança de dados",
        "operationId": "LgpdIncidentController_createIncident",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LgpdIncident"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Incidente criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Criar novo incidente LGPD",
        "tags": [
          "lgpd-incident"
        ]
      },
      "get": {
        "description": "Retorna lista de incidentes com filtros opcionais",
        "operationId": "LgpdIncidentController_listIncidents",
        "parameters": [
          {
            "name": "commerceId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "REPORTED",
                "UNDER_INVESTIGATION",
                "CONTAINED",
                "RESOLVED",
                "CLOSED"
              ],
              "type": "string"
            }
          },
          {
            "name": "severity",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "LOW",
                "MEDIUM",
                "HIGH",
                "CRITICAL"
              ],
              "type": "string"
            }
          },
          {
            "name": "incidentType",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "DATA_BREACH",
                "UNAUTHORIZED_ACCESS",
                "DATA_LOSS",
                "DATA_ALTERATION",
                "DATA_DISCLOSURE",
                "SYSTEM_FAILURE",
                "OTHER"
              ],
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reportedBy",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de incidentes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LgpdIncident"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Listar incidentes",
        "tags": [
          "lgpd-incident"
        ]
      }
    },
    "/lgpd-incident/{id}": {
      "patch": {
        "description": "Atualiza um incidente existente",
        "operationId": "LgpdIncidentController_updateIncident",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do incidente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LgpdIncident"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Incidente atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Atualizar incidente",
        "tags": [
          "lgpd-incident"
        ]
      },
      "get": {
        "description": "Retorna um incidente específico",
        "operationId": "LgpdIncidentController_getIncidentById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do incidente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Incidente",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter incidente por ID",
        "tags": [
          "lgpd-incident"
        ]
      }
    },
    "/lgpd-incident/{id}/actions": {
      "post": {
        "description": "Registra uma ação tomada em relação ao incidente",
        "operationId": "LgpdIncidentController_addAction",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do incidente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                },
                "required": [
                  "action",
                  "description"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ação adicionada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Adicionar ação ao incidente",
        "tags": [
          "lgpd-incident"
        ]
      }
    },
    "/lgpd-incident/{id}/preventive-measures": {
      "post": {
        "description": "Registra uma medida preventiva implementada",
        "operationId": "LgpdIncidentController_addPreventiveMeasure",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do incidente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "measure": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                },
                "required": [
                  "measure",
                  "description"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Medida preventiva adicionada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Adicionar medida preventiva",
        "tags": [
          "lgpd-incident"
        ]
      }
    },
    "/lgpd-incident/{id}/notify-anpd": {
      "post": {
        "description": "Registra que o incidente foi notificado à Autoridade Nacional de Proteção de Dados",
        "operationId": "LgpdIncidentController_markAsNotifiedToAnpd",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do incidente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reference": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Notificação registrada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Marcar como notificado à ANPD",
        "tags": [
          "lgpd-incident"
        ]
      }
    },
    "/lgpd-incident/{id}/notify-data-subjects": {
      "post": {
        "description": "Registra que os titulares dos dados foram notificados sobre o incidente",
        "operationId": "LgpdIncidentController_markAsNotifiedToDataSubjects",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID do incidente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "method": {
                    "type": "string",
                    "enum": [
                      "EMAIL",
                      "PHONE",
                      "POSTAL",
                      "PUBLIC_NOTICE",
                      "OTHER"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Notificação registrada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LgpdIncident"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Marcar como notificado aos titulares",
        "tags": [
          "lgpd-incident"
        ]
      }
    },
    "/audit-log/entity/{entityType}/{entityId}": {
      "get": {
        "description": "Retorna logs de auditoria para uma entidade específica",
        "operationId": "AuditLogController_getLogsByEntity",
        "parameters": [
          {
            "name": "entityType",
            "required": true,
            "in": "path",
            "description": "Tipo da entidade",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "entityId",
            "required": true,
            "in": "path",
            "description": "ID da entidade",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Limite de resultados",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logs de auditoria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditLog"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter logs de auditoria por entidade",
        "tags": [
          "audit-log"
        ]
      }
    },
    "/audit-log/user/{userId}": {
      "get": {
        "description": "Retorna logs de auditoria para um usuário específico",
        "operationId": "AuditLogController_getLogsByUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "ID do usuário",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logs de auditoria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditLog"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter logs de auditoria por usuário",
        "tags": [
          "audit-log"
        ]
      }
    },
    "/audit-log/action/{action}": {
      "get": {
        "description": "Retorna logs de auditoria para uma ação específica",
        "operationId": "AuditLogController_getLogsByAction",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "action",
            "required": true,
            "in": "path",
            "description": "Tipo de ação",
            "schema": {}
          }
        ],
        "responses": {
          "200": {
            "description": "Logs de auditoria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditLog"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obter logs de auditoria por ação",
        "tags": [
          "audit-log"
        ]
      }
    },
    "/audit-log/report": {
      "get": {
        "description": "Gera relatório completo de auditoria com filtros",
        "operationId": "AuditLogController_generateAuditReport",
        "parameters": [
          {
            "name": "businessId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "commerceId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "entityType",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "entityId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "action",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Relatório de auditoria"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Gerar relatório de auditoria",
        "tags": [
          "audit-log"
        ]
      }
    },
    "/module/{id}": {
      "get": {
        "description": "Retrieves a module by its unique identifier",
        "operationId": "ModuleController_getModuleById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Module ID",
            "schema": {
              "example": "module-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Module found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Module"
                }
              }
            }
          },
          "404": {
            "description": "Module not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get module by ID",
        "tags": [
          "module"
        ]
      },
      "patch": {
        "description": "Updates module configuration and status",
        "operationId": "ModuleController_updateModuleConfigurations",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Module ID",
            "schema": {
              "example": "module-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Module"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Module updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Module"
                }
              }
            }
          },
          "404": {
            "description": "Module not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update module configurations",
        "tags": [
          "module"
        ]
      }
    },
    "/module": {
      "get": {
        "description": "Retrieves a list of all modules",
        "operationId": "ModuleController_getAllModule",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of modules",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Module"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all modules",
        "tags": [
          "module"
        ]
      },
      "post": {
        "description": "Creates a new module for a commerce",
        "operationId": "ModuleController_createModule",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Module"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Module created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Module"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new module",
        "tags": [
          "module"
        ]
      }
    },
    "/module/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all modules for a specific commerce",
        "operationId": "ModuleController_getModulesByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of modules",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Module"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get modules by commerce ID",
        "tags": [
          "module"
        ]
      }
    },
    "/module/commerceId/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active modules for a specific commerce",
        "operationId": "ModuleController_getActiveModulesByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active modules",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Module"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active modules by commerce ID",
        "tags": [
          "module"
        ]
      }
    },
    "/package/{id}": {
      "get": {
        "description": "Retrieves a package by its unique identifier",
        "operationId": "PackageController_getPackageById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "404": {
            "description": "Package not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get package by ID",
        "tags": [
          "package"
        ]
      },
      "patch": {
        "description": "Updates package configuration and information",
        "operationId": "PackageController_updatePackage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Package"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Package updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "404": {
            "description": "Package not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update package",
        "tags": [
          "package"
        ]
      }
    },
    "/package": {
      "get": {
        "description": "Retrieves a list of all packages",
        "operationId": "PackageController_getPackages",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all packages",
        "tags": [
          "package"
        ]
      },
      "post": {
        "description": "Creates a new service package for a client",
        "operationId": "PackageController_createPackage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Package"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Package created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new package",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all packages for a specific commerce",
        "operationId": "PackageController_getPackageByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get packages by commerce",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerceId/{commerceId}/clientId/{clientId}": {
      "get": {
        "description": "Retrieves all packages for a specific commerce and client",
        "operationId": "PackageController_getPackageByCommerceIdAndClientId",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get packages by commerce and client",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerceId/{commerceId}/serviceId/{serviceId}/clientId/{clientId}": {
      "get": {
        "description": "Retrieves packages filtered by commerce, service, and client",
        "operationId": "PackageController_getPackageByCommerceIdAndClientServices",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "serviceId",
            "required": true,
            "in": "path",
            "description": "Service ID",
            "schema": {
              "example": "service-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get packages by commerce, service, and client",
        "tags": [
          "package"
        ]
      }
    },
    "/package/list/{ids}": {
      "get": {
        "description": "Retrieves multiple packages by their IDs (comma-separated)",
        "operationId": "PackageController_getPackagesById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated package IDs",
            "schema": {
              "example": "package-1,package-2,package-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get packages by IDs",
        "tags": [
          "package"
        ]
      }
    },
    "/package/cancel/{id}": {
      "patch": {
        "description": "Cancels an active package",
        "operationId": "PackageController_cancelPackage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "404": {
            "description": "Package not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Cancel package",
        "tags": [
          "package"
        ]
      }
    },
    "/package/pay/{id}": {
      "patch": {
        "description": "Marks a package as paid using income records",
        "operationId": "PackageController_payPackage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "incomesId": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "income-1",
                      "income-2"
                    ]
                  }
                },
                "required": [
                  "incomesId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Package paid successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "404": {
            "description": "Package not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Pay package",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerce/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active packages for a specific commerce with sessions remaining",
        "operationId": "PackageController_getActivePackagesByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active packages by commerce",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerce/{commerceId}/client/{clientId}/all": {
      "get": {
        "description": "Retrieves all packages for a client grouped by status",
        "operationId": "PackageController_getPackagesByClient",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Packages grouped by status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "active": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Package"
                      }
                    },
                    "completed": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Package"
                      }
                    },
                    "expired": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Package"
                      }
                    },
                    "cancelled": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Package"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all packages by client",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerce/{commerceId}/client/{clientId}/active": {
      "get": {
        "description": "Retrieves active packages for a specific client",
        "operationId": "PackageController_getActivePackagesByClient",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active packages by client",
        "tags": [
          "package"
        ]
      }
    },
    "/package/commerce/{commerceId}/service/{serviceId}/client/{clientId}/available": {
      "get": {
        "description": "Retrieves available packages for a specific service that can be used for booking",
        "operationId": "PackageController_getAvailablePackagesForService",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "serviceId",
            "required": true,
            "in": "path",
            "description": "Service ID",
            "schema": {
              "example": "service-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of available packages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Package"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get available packages for service",
        "tags": [
          "package"
        ]
      }
    },
    "/package/analytics/{commerceId}": {
      "get": {
        "description": "Retrieves comprehensive analytics for packages in a commerce",
        "operationId": "PackageController_getPackageAnalytics",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package analytics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalPackages": {
                      "type": "number"
                    },
                    "activePackages": {
                      "type": "number"
                    },
                    "completedPackages": {
                      "type": "number"
                    },
                    "expiredPackages": {
                      "type": "number"
                    },
                    "totalSessionsSold": {
                      "type": "number"
                    },
                    "totalSessionsUsed": {
                      "type": "number"
                    },
                    "totalSessionsRemaining": {
                      "type": "number"
                    },
                    "averageSessionsPerPackage": {
                      "type": "number"
                    },
                    "averageCompletionRate": {
                      "type": "number"
                    },
                    "packagesByType": {
                      "type": "object"
                    },
                    "packagesByStatus": {
                      "type": "object"
                    },
                    "expiringSoon": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Package"
                      }
                    },
                    "lowSessions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Package"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get package analytics",
        "tags": [
          "package"
        ]
      }
    },
    "/package/metrics/{commerceId}": {
      "get": {
        "description": "Retrieves detailed metrics: most requested packages, no-show rate, completion rate, abandonment rate",
        "operationId": "PackageController_getPackageMetricsAnalytics",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package metrics analytics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mostRequestedPackages": {
                      "type": "array",
                      "description": "Top packages by creation count"
                    },
                    "overallNoShowRate": {
                      "type": "number",
                      "description": "Overall no-show rate percentage"
                    },
                    "overallCompletionRate": {
                      "type": "number",
                      "description": "Overall completion rate percentage"
                    },
                    "overallAbandonmentRate": {
                      "type": "number",
                      "description": "Overall abandonment rate percentage"
                    },
                    "packagesByCompletionRate": {
                      "type": "array",
                      "description": "Packages sorted by completion rate"
                    },
                    "packagesByNoShowRate": {
                      "type": "array",
                      "description": "Packages sorted by no-show rate"
                    },
                    "abandonedPackages": {
                      "type": "array",
                      "description": "List of abandoned packages"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get package metrics analytics",
        "tags": [
          "package"
        ]
      }
    },
    "/package/{id}/recommended-dates": {
      "get": {
        "description": "Retrieves recommended dates for next sessions based on periodicity",
        "operationId": "PackageController_getRecommendedSessionDates",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of recommended dates",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get recommended session dates",
        "tags": [
          "package"
        ]
      }
    },
    "/package/pause/{id}": {
      "patch": {
        "description": "Pauses an active package temporarily",
        "operationId": "PackageController_pausePackage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package paused successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "404": {
            "description": "Package not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Pause package",
        "tags": [
          "package"
        ]
      }
    },
    "/package/resume/{id}": {
      "patch": {
        "description": "Resumes a paused package",
        "operationId": "PackageController_resumePackage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package resumed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Package"
                }
              }
            }
          },
          "404": {
            "description": "Package not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Resume package",
        "tags": [
          "package"
        ]
      }
    },
    "/income/{id}": {
      "get": {
        "description": "Retrieves an income record by its unique identifier",
        "operationId": "IncomeController_getIncomeById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Income ID",
            "schema": {
              "example": "income-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Income found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Income"
                }
              }
            }
          },
          "404": {
            "description": "Income not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get income by ID",
        "tags": [
          "income"
        ]
      },
      "patch": {
        "description": "Updates income information and configuration",
        "operationId": "IncomeController_updateIncome",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Income ID",
            "schema": {
              "example": "income-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Income"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Income updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Income"
                }
              }
            }
          },
          "404": {
            "description": "Income not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update income",
        "tags": [
          "income"
        ]
      }
    },
    "/income": {
      "get": {
        "description": "Retrieves a list of all income records",
        "operationId": "IncomeController_getIncomes",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of incomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Income"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all incomes",
        "tags": [
          "income"
        ]
      },
      "post": {
        "description": "Creates a new income record",
        "operationId": "IncomeController_createIncome",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Income"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Income created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Income"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new income",
        "tags": [
          "income"
        ]
      }
    },
    "/income/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all income records for a specific commerce",
        "operationId": "IncomeController_getIncomeByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of incomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Income"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get incomes by commerce",
        "tags": [
          "income"
        ]
      }
    },
    "/income/commerceId/{commerceId}/packageId/{packageId}": {
      "get": {
        "description": "Retrieves pending income records for a specific package",
        "operationId": "IncomeController_getPendingIncomeByPackage",
        "parameters": [
          {
            "name": "packageId",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of pending incomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Income"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get pending incomes by package",
        "tags": [
          "income"
        ]
      }
    },
    "/income/list/{ids}": {
      "get": {
        "description": "Retrieves multiple income records by their IDs (comma-separated)",
        "operationId": "IncomeController_getIncomesById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated income IDs",
            "schema": {
              "example": "income-1,income-2,income-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of incomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Income"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get incomes by IDs",
        "tags": [
          "income"
        ]
      }
    },
    "/income/confirm/{id}": {
      "patch": {
        "description": "Confirms a pending income record",
        "operationId": "IncomeController_confirmPendingIncome",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Income ID",
            "schema": {
              "example": "income-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Income confirmed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Income"
                }
              }
            }
          },
          "404": {
            "description": "Income not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Confirm pending income",
        "tags": [
          "income"
        ]
      }
    },
    "/documents/options/all": {
      "get": {
        "description": "Retrieves all available document option types",
        "operationId": "DocumentsController_getDocumentOptions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of document options",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DocumentOption"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all document options",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all documents for a specific commerce",
        "operationId": "DocumentsController_getDocumentsByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Document"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get documents by commerce ID",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/commerceId/{commerceId}/client/{clientId}": {
      "get": {
        "description": "Retrieves all documents for a specific client",
        "operationId": "DocumentsController_getDocumentsByCommerceIdAndClient",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of client documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Document"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get client documents",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/commerceId/{commerceId}/option/{option}": {
      "get": {
        "description": "Retrieves a specific document by commerce and option type",
        "operationId": "DocumentsController_getDocumentsByOption",
        "parameters": [
          {
            "name": "option",
            "required": true,
            "in": "path",
            "description": "Document option type",
            "schema": {
              "example": "TERMS"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Document found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Document"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get document by option",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents": {
      "post": {
        "description": "Uploads a new document file",
        "operationId": "DocumentsController_uploadDocument",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UploadDocumentsInputsDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Document uploaded successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload document",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/client": {
      "post": {
        "description": "Uploads a document file for a specific client with ecosystem integration",
        "operationId": "DocumentsController_uploadClientDocument",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UploadDocumentsInputsDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Client document uploaded successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload client document",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{documentKey}/{reportType}": {
      "get": {
        "description": "Retrieves and streams a document file",
        "operationId": "DocumentsController_getDocument",
        "parameters": [
          {
            "name": "reportType",
            "required": true,
            "in": "path",
            "description": "Report type",
            "schema": {
              "example": "PDF"
            }
          },
          {
            "name": "documentKey",
            "required": true,
            "in": "path",
            "description": "Document key",
            "schema": {
              "example": "doc-key-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Document file stream"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get document file",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/client/{documentKey}/{reportType}/{name}": {
      "get": {
        "description": "Retrieves and streams a client document file",
        "operationId": "DocumentsController_getDocumentById",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "description": "Document name",
            "schema": {
              "example": "document.pdf"
            }
          },
          {
            "name": "reportType",
            "required": true,
            "in": "path",
            "description": "Report type",
            "schema": {
              "example": "PDF"
            }
          },
          {
            "name": "documentKey",
            "required": true,
            "in": "path",
            "description": "Document key",
            "schema": {
              "example": "doc-key-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Client document file stream"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get client document file",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/list/{reportType}/{documentKey}": {
      "get": {
        "description": "Retrieves a list of documents from storage",
        "operationId": "DocumentsController_getDocumentList",
        "parameters": [
          {
            "name": "documentKey",
            "required": true,
            "in": "path",
            "description": "Document key prefix",
            "schema": {
              "example": "doc-key"
            }
          },
          {
            "name": "reportType",
            "required": true,
            "in": "path",
            "description": "Report type",
            "schema": {
              "example": "PDF"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get document list",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{id}/active": {
      "patch": {
        "description": "Updates the active status of a document",
        "operationId": "DocumentsController_activeDocument",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Document ID",
            "schema": {
              "example": "document-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "active": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "active"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Document status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Document"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Activate/deactivate document",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{id}/available": {
      "patch": {
        "description": "Updates the availability status of a document",
        "operationId": "DocumentsController_availableDocument",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Document ID",
            "schema": {
              "example": "document-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "available": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "available"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Document availability updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Document"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Set document availability",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/attention/{attentionId}": {
      "get": {
        "description": "Retrieves all documents linked to a specific attention/consultation",
        "operationId": "DocumentsController_getDocumentsByAttention",
        "parameters": [
          {
            "name": "attentionId",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of attention documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Document"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get documents by attention",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/patient-history/{patientHistoryId}": {
      "get": {
        "description": "Retrieves all documents linked to a specific patient history record",
        "operationId": "DocumentsController_getDocumentsByPatientHistory",
        "parameters": [
          {
            "name": "patientHistoryId",
            "required": true,
            "in": "path",
            "description": "Patient History ID",
            "schema": {
              "example": "history-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of patient history documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Document"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get documents by patient history",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/search": {
      "post": {
        "description": "Search documents with multiple filters and criteria",
        "operationId": "DocumentsController_searchDocuments",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentSearchDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Filtered list of documents",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Document"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Advanced document search",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{id}/link-attention": {
      "patch": {
        "description": "Links an existing document to a specific attention/consultation",
        "operationId": "DocumentsController_linkDocumentToAttention",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Document ID",
            "schema": {
              "example": "document-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "attentionId": {
                    "type": "string",
                    "example": "attention-123"
                  }
                },
                "required": [
                  "attentionId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Document linked successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Document"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Link document to attention",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{id}/tags": {
      "patch": {
        "description": "Updates the tags associated with a document",
        "operationId": "DocumentsController_updateDocumentTags",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Document ID",
            "schema": {
              "example": "document-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "urgent",
                      "cardiology"
                    ]
                  }
                },
                "required": [
                  "tags"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Document tags updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Document"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update document tags",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{id}/access-log": {
      "post": {
        "description": "Records document access for audit trail",
        "operationId": "DocumentsController_logDocumentAccess",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Document ID",
            "schema": {
              "example": "document-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "accessType": {
                    "type": "string",
                    "example": "view"
                  },
                  "userType": {
                    "type": "string",
                    "example": "collaborator"
                  },
                  "ipAddress": {
                    "type": "string",
                    "example": "192.168.1.1"
                  },
                  "userAgent": {
                    "type": "string",
                    "example": "Mozilla/5.0..."
                  }
                },
                "required": [
                  "accessType",
                  "userType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Access logged successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Log document access",
        "tags": [
          "documents"
        ]
      }
    },
    "/documents/{id}/track-download": {
      "post": {
        "description": "Records document download for audit trail and CQRS events",
        "operationId": "DocumentsController_trackDocumentDownload",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Document ID",
            "schema": {
              "example": "document-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userType": {
                    "type": "string",
                    "example": "collaborator"
                  },
                  "ipAddress": {
                    "type": "string",
                    "example": "192.168.1.1"
                  },
                  "userAgent": {
                    "type": "string",
                    "example": "Mozilla/5.0..."
                  }
                },
                "required": [
                  "userType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Download logged successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Track document download",
        "tags": [
          "documents"
        ]
      }
    },
    "/telemedicine/sessions": {
      "post": {
        "operationId": "TelemedicineController_createSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTelemedicineSessionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Session created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create telemedicine session",
        "tags": [
          "Telemedicine"
        ]
      },
      "get": {
        "operationId": "TelemedicineController_listSessions",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "doctorId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of sessions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TelemedicineSession"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "List telemedicine sessions",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}": {
      "get": {
        "operationId": "TelemedicineController_getSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get session by ID",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/start": {
      "post": {
        "operationId": "TelemedicineController_startSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Start session",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/end": {
      "post": {
        "operationId": "TelemedicineController_endSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session ended",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "End session",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/cancel": {
      "post": {
        "operationId": "TelemedicineController_cancelSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Cancel session",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/consent": {
      "post": {
        "operationId": "TelemedicineController_giveConsent",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Consent given",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Give consent for recording",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/recording": {
      "post": {
        "operationId": "TelemedicineController_saveRecording",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recording URL saved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Save recording URL",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/recording/upload-url": {
      "get": {
        "operationId": "TelemedicineController_getRecordingUploadUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expiresIn",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Presigned upload URL generated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "uploadUrl": {
                      "type": "string",
                      "description": "Presigned URL for PUT request"
                    },
                    "recordingKey": {
                      "type": "string",
                      "description": "S3 key for the recording"
                    },
                    "recordingUrl": {
                      "type": "string",
                      "description": "Final URL after upload"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get presigned URL for direct S3 upload (recommended)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/recording/save-url": {
      "post": {
        "operationId": "TelemedicineController_saveRecordingUrlFromUpload",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recording URL saved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Save recording URL after direct S3 upload",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/recording/upload": {
      "post": {
        "operationId": "TelemedicineController_uploadRecording",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recording uploaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload recording file to S3 (legacy - prefer upload-url endpoint)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/messages": {
      "get": {
        "operationId": "TelemedicineController_getMessages",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TelemedicineMessage"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get messages from session",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/messages": {
      "post": {
        "operationId": "TelemedicineController_sendMessage",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Message sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineMessage"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send message",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/messages/read": {
      "post": {
        "operationId": "TelemedicineController_markMessagesAsRead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Mark messages as read",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/validate-key": {
      "post": {
        "operationId": "TelemedicineController_validateAccessKey",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Key validated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          },
          "429": {
            "description": "Too many requests"
          }
        },
        "summary": "Validate access key (public)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/public": {
      "get": {
        "operationId": "TelemedicineController_getSessionPublic",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "summary": "Get session by ID (public, after key validation)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/validate-portal-session": {
      "post": {
        "description": "Validates telemedicine session access using an active client portal session token. Allows automatic access without access key.",
        "operationId": "TelemedicineController_validateWithPortalSession",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session validated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          },
          "401": {
            "description": "Invalid portal session"
          },
          "403": {
            "description": "Client mismatch"
          },
          "429": {
            "description": "Too many requests"
          }
        },
        "summary": "Validate session using portal session token (public)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/send-access-keys": {
      "post": {
        "operationId": "TelemedicineController_sendAccessKeysForUpcomingSessions",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Access keys processed"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send access keys for upcoming sessions (scheduler)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/send-access-key": {
      "post": {
        "operationId": "TelemedicineController_sendAccessKeyOnDemand",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Access key sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          },
          "429": {
            "description": "Too many requests"
          }
        },
        "summary": "Send access key on demand (public)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/patient-connected": {
      "post": {
        "operationId": "TelemedicineController_markPatientConnected",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Patient marked as connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "summary": "Mark patient as connected (public)",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/sessions/{id}/doctor-connected": {
      "post": {
        "operationId": "TelemedicineController_markDoctorConnected",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Doctor marked as connected",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelemedicineSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Mark doctor as connected",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/monitoring/stats": {
      "get": {
        "operationId": "TelemedicineController_getStatistics",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Telemedicine statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sessions": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "number"
                        },
                        "active": {
                          "type": "number"
                        },
                        "scheduled": {
                          "type": "number"
                        },
                        "completed": {
                          "type": "number"
                        },
                        "cancelled": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get telemedicine statistics",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/telemedicine/monitoring/health": {
      "get": {
        "operationId": "TelemedicineController_getHealthMetrics",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Telemedicine health metrics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "activeSessions": {
                      "type": "number"
                    },
                    "connections": {
                      "type": "object",
                      "properties": {
                        "active": {
                          "type": "number"
                        },
                        "max": {
                          "type": "number"
                        },
                        "activeRooms": {
                          "type": "number"
                        }
                      }
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get telemedicine health metrics",
        "tags": [
          "Telemedicine"
        ]
      }
    },
    "/booking/{id}": {
      "get": {
        "description": "Retrieves a booking by its unique identifier",
        "operationId": "BookingController_getBookingById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Booking not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get booking by ID",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking": {
      "post": {
        "description": "Creates a new booking/appointment for a queue",
        "operationId": "BookingController_createBooking",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBookingDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "409": {
            "description": "Conflict - Block already taken or queue limit reached"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new booking",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/queue/{queueId}/date/{date}": {
      "get": {
        "description": "Retrieves all bookings for a specific queue on a given date",
        "operationId": "BookingController_getBookingsByQueueAndDate",
        "parameters": [
          {
            "name": "date",
            "required": true,
            "in": "path",
            "description": "Date in YYYY-MM-DD format",
            "schema": {
              "example": "2024-01-15"
            }
          },
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of bookings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Booking"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get bookings by queue and date",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/details/{id}": {
      "get": {
        "description": "Retrieves detailed booking information including queue, commerce, and user data",
        "operationId": "BookingController_getBookingDetails",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookingDetailsDto"
                }
              }
            }
          },
          "404": {
            "description": "Booking not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get booking details",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/cancel/{id}": {
      "patch": {
        "description": "Cancels an existing booking",
        "operationId": "BookingController_cancelBooking",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "404": {
            "description": "Booking not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Cancel a booking",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/confirm/{id}": {
      "patch": {
        "description": "Confirms a pending booking",
        "operationId": "BookingController_confirmBooking",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmBookingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking confirmed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "404": {
            "description": "Booking not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Confirm a booking",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/process": {
      "patch": {
        "operationId": "BookingController_processBookings",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/process/booking/{id}": {
      "patch": {
        "operationId": "BookingController_processBooking",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/process/date/{date}": {
      "patch": {
        "operationId": "BookingController_processDateBookings",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/waitlist/{id}/block/{number}": {
      "post": {
        "operationId": "BookingController_createBookingFromWaitlist",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/confirm": {
      "post": {
        "operationId": "BookingController_confirmNotifyBookings",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/process/past-bookings/{id}/{collaboratorId}/{commerceLanguage}": {
      "post": {
        "operationId": "BookingController_processPastBooking",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/pending/queue/{queueId}/from/{dateFrom}/to/{dateTo}": {
      "get": {
        "operationId": "BookingController_getPendingBookingsBetweenDates",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/pending/commerce/{commerceId}/{date}": {
      "get": {
        "operationId": "BookingController_getPendingCommerceBookingsByDate",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/pending/commerce/{commerceId}/from/{dateFrom}/to/{dateTo}": {
      "get": {
        "operationId": "BookingController_getPendingCommerceBookingsBetweenDates",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/pending/cancel/all": {
      "patch": {
        "operationId": "BookingController_cancelBookings",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/transfer/{id}": {
      "patch": {
        "description": "Transfers a booking from one queue to another",
        "operationId": "BookingController_transferBookingToQueue",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransferBookingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking transferred successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "404": {
            "description": "Booking or queue not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Transfer booking to another queue",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/{id}/assign-professional": {
      "patch": {
        "description": "Assigns a professional to a booking and auto-suggests commission if configured",
        "operationId": "BookingController_assignProfessional",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Professional assigned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "400": {
            "description": "Invalid professional assignment"
          },
          "404": {
            "description": "Booking or professional not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Assign professional to booking",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/commerceId/{commerceId}/clientId/{clientId}/idNumber/{idNumber}": {
      "get": {
        "operationId": "BookingController_getBookingsByClient",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/edit/{id}": {
      "patch": {
        "description": "Updates the date and/or time block of an existing booking",
        "operationId": "BookingController_editBookingDateAndBlock",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Booking ID",
            "schema": {
              "example": "booking-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EditBookingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Booking"
                }
              }
            }
          },
          "404": {
            "description": "Booking not found"
          },
          "409": {
            "description": "Conflict - New block already taken"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Edit booking date and block",
        "tags": [
          "booking"
        ]
      }
    },
    "/booking/accept-terms/{id}/{code}": {
      "patch": {
        "operationId": "BookingController_acceptBookingTermsAndConditions",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "booking"
        ]
      }
    },
    "/waitlist/{id}": {
      "get": {
        "description": "Retrieves a waitlist entry by its unique identifier",
        "operationId": "WaitlistController_getWaitlistById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Waitlist ID",
            "schema": {
              "example": "waitlist-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Waitlist found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Waitlist"
                }
              }
            }
          },
          "404": {
            "description": "Waitlist not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get waitlist by ID",
        "tags": [
          "waitlist"
        ]
      }
    },
    "/waitlist": {
      "post": {
        "description": "Adds a client to the waitlist for a queue",
        "operationId": "WaitlistController_createWaitlist",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "queueId": {
                    "type": "string",
                    "example": "queue-123"
                  },
                  "channel": {
                    "type": "string",
                    "example": "QR"
                  },
                  "user": {
                    "type": "object"
                  },
                  "date": {
                    "type": "string",
                    "example": "2024-01-15"
                  },
                  "clientId": {
                    "type": "string",
                    "example": "client-123"
                  }
                },
                "required": [
                  "queueId",
                  "date"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Waitlist entry created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Waitlist"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new waitlist entry",
        "tags": [
          "waitlist"
        ]
      }
    },
    "/waitlist/queue/{queueId}/date/{date}": {
      "get": {
        "description": "Retrieves all waitlist entries for a specific queue on a given date",
        "operationId": "WaitlistController_getWaitlistsByQueueAndDate",
        "parameters": [
          {
            "name": "date",
            "required": true,
            "in": "path",
            "description": "Date in YYYY-MM-DD format",
            "schema": {
              "example": "2024-01-15"
            }
          },
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of waitlist entries",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Waitlist"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get waitlists by queue and date",
        "tags": [
          "waitlist"
        ]
      }
    },
    "/waitlist/details/{id}": {
      "get": {
        "description": "Retrieves detailed waitlist information",
        "operationId": "WaitlistController_getWaitlistDetails",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Waitlist ID",
            "schema": {
              "example": "waitlist-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Waitlist details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WaitlistDetailsDto"
                }
              }
            }
          },
          "404": {
            "description": "Waitlist not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get waitlist details",
        "tags": [
          "waitlist"
        ]
      }
    },
    "/patient-history/{id}": {
      "get": {
        "description": "Retrieves a patient history record by its unique identifier",
        "operationId": "PatientHistoryController_getPatientHistoryById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Patient history ID",
            "schema": {
              "example": "patient-history-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Patient history found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistory"
                }
              }
            }
          },
          "404": {
            "description": "Patient history not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient history by ID",
        "tags": [
          "patient-history"
        ]
      },
      "patch": {
        "description": "Updates patient history information and status",
        "operationId": "PatientHistoryController_updatePatientHistoryConfigurations",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Patient history ID",
            "schema": {
              "example": "patient-history-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientHistoryUpdateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Patient history updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistory"
                }
              }
            }
          },
          "404": {
            "description": "Patient history not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update patient history configurations",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history": {
      "get": {
        "description": "Retrieves a list of all patient history records",
        "operationId": "PatientHistoryController_getAllPatientHistory",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of patient histories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistory"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all patient histories",
        "tags": [
          "patient-history"
        ]
      },
      "post": {
        "description": "Creates a new patient medical history record",
        "operationId": "PatientHistoryController_createPatientHistory",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientHistory"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Patient history created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistory"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new patient history",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all patient histories for a specific commerce",
        "operationId": "PatientHistoryController_getPatientHistorysByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of patient histories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistory"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient histories by commerce",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/commerceId/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active patient histories for a specific commerce",
        "operationId": "PatientHistoryController_getActivePatientHistorysByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active patient histories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistory"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active patient histories by commerce",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/control/{id}": {
      "patch": {
        "description": "Updates control information for a patient history",
        "operationId": "PatientHistoryController_updatePatientHistoryControl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Patient history ID",
            "schema": {
              "example": "patient-history-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientHistory"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Patient history control updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistory"
                }
              }
            }
          },
          "404": {
            "description": "Patient history not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update patient history control",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/save": {
      "post": {
        "description": "Creates or updates a patient history record",
        "operationId": "PatientHistoryController_savePatientHistory",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientHistoryUpdateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Patient history saved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistory"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Save patient history",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/consultation/{attentionId}": {
      "get": {
        "description": "Retrieves the complete consultation history for a specific attention/visit",
        "operationId": "PatientHistoryController_getConsultationByAttentionId",
        "parameters": [
          {
            "name": "attentionId",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Consultation history found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationHistory"
                }
              }
            }
          },
          "404": {
            "description": "Consultation history not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get consultation history by attention ID",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/consultations/patient/{patientHistoryId}": {
      "get": {
        "description": "Retrieves all consultation histories for a specific patient history ID",
        "operationId": "PatientHistoryController_getConsultationsByPatientHistoryId",
        "parameters": [
          {
            "name": "patientHistoryId",
            "required": true,
            "in": "path",
            "description": "Patient History ID",
            "schema": {
              "example": "patient-history-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of consultations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsultationHistory"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all consultations for a patient",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/consultations/client/{commerceId}/{clientId}": {
      "get": {
        "description": "Retrieves all consultation histories for a specific client",
        "operationId": "PatientHistoryController_getConsultationsByClientId",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of consultations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsultationHistory"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all consultations for a client",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/journey/{commerceId}/{clientId}": {
      "get": {
        "description": "Retrieves the complete patient journey including bookings, attentions, consultations, controls, prescriptions, and exam orders with all relationships",
        "operationId": "PatientHistoryController_getPatientJourney",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Complete patient journey",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientJourneyDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get complete patient journey",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/patient-history/journey/attention/{attentionId}": {
      "get": {
        "description": "Retrieves the complete patient journey for the client associated with a specific attention",
        "operationId": "PatientHistoryController_getPatientJourneyByAttention",
        "parameters": [
          {
            "name": "attentionId",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "example": "attention-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Complete patient journey",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientJourneyDto"
                }
              }
            }
          },
          "404": {
            "description": "Attention not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient journey by attention ID",
        "tags": [
          "patient-history"
        ]
      }
    },
    "/client-portal/commerce/{slug}": {
      "get": {
        "description": "Obtiene la información pública del comercio usando su slug/keyName para el portal de clientes.",
        "operationId": "ClientPortalController_getCommerceBySlug",
        "parameters": [
          {
            "name": "slug",
            "required": true,
            "in": "path",
            "description": "Slug/keyName del comercio",
            "schema": {
              "example": "sempre-bela-morumbi",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Información del comercio",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "keyName": {
                      "type": "string"
                    },
                    "tag": {
                      "type": "string"
                    },
                    "logo": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "active": {
                      "type": "boolean"
                    },
                    "available": {
                      "type": "boolean"
                    },
                    "category": {
                      "type": "string"
                    },
                    "localeInfo": {
                      "type": "object"
                    },
                    "contactInfo": {
                      "type": "object"
                    },
                    "serviceInfo": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Comercio no encontrado"
          }
        },
        "summary": "Obtener información del comercio por slug (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/{slug}/request-access": {
      "post": {
        "description": "Solicita un código de acceso al portal usando el slug del comercio. El código se envía por email/WhatsApp/SMS. Rate limited: 5 requests per minute per IP.",
        "operationId": "ClientPortalController_requestAccessBySlug",
        "parameters": [
          {
            "name": "slug",
            "required": true,
            "in": "path",
            "description": "Slug/keyName del comercio",
            "schema": {
              "example": "sempre-bela-morumbi",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "idNumber": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Código enviado con éxito"
          },
          "404": {
            "description": "Comercio no encontrado"
          }
        },
        "summary": "Solicitar código de acceso usando slug (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/{slug}/validate-code": {
      "post": {
        "description": "Valida el código de acceso y retorna token de sesión usando el slug del comercio. Rate limited: 10 requests per minute per IP.",
        "operationId": "ClientPortalController_validateCodeBySlug",
        "parameters": [
          {
            "name": "slug",
            "required": true,
            "in": "path",
            "description": "Slug/keyName del comercio",
            "schema": {
              "example": "sempre-bela-morumbi",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  }
                },
                "required": [
                  "code"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Código válido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    },
                    "sessionToken": {
                      "type": "string"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "client": {
                      "type": "object"
                    },
                    "commerce": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Comercio no encontrado"
          }
        },
        "summary": "Validar código de acceso usando slug (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/request-access": {
      "post": {
        "description": "Solicita um código de acesso ao portal do cliente. O código é enviado por email/WhatsApp/SMS. Rate limited: 5 requests per minute per IP.",
        "operationId": "ClientPortalController_requestAccess",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "commerceId": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "idNumber": {
                    "type": "string"
                  }
                },
                "required": [
                  "commerceId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Código enviado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "description": "Código gerado (apenas para debug)"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "sentVia": {
                      "type": "string",
                      "enum": [
                        "EMAIL",
                        "WHATSAPP",
                        "SMS",
                        "EMAIL+WHATSAPP",
                        "EMAIL+SMS"
                      ]
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded"
          }
        },
        "summary": "Solicitar código de acesso ao portal (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/validate-code": {
      "post": {
        "description": "Valida o código de acesso e retorna token de sessão. Rate limited: 10 requests per minute per IP.",
        "operationId": "ClientPortalController_validateCode",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "commerceId": {
                    "type": "string"
                  }
                },
                "required": [
                  "code",
                  "commerceId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Código válido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    },
                    "sessionToken": {
                      "type": "string"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "client": {
                      "type": "object"
                    },
                    "commerce": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded"
          }
        },
        "summary": "Validar código de acesso (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/session/{token}": {
      "get": {
        "description": "Valida um token de sessão e retorna informações do cliente e comércio.",
        "operationId": "ClientPortalController_validateSession",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Token de sessão",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token válido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    },
                    "expired": {
                      "type": "boolean"
                    },
                    "session": {
                      "type": "object"
                    },
                    "client": {
                      "type": "object"
                    },
                    "commerce": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Validar token de sessão (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/permissions/{token}": {
      "get": {
        "description": "Obtiene los permisos del cliente basados en su rol, plan y configuraciones específicas. Valida el JWT directamente.",
        "operationId": "ClientPortalController_getClientPermissions",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Token JWT del cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Permisos del cliente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "oneOf": [
                      {
                        "type": "boolean"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Token inválido o expirado"
          }
        },
        "summary": "Obtener permisos del cliente (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/session/{token}/renew": {
      "post": {
        "description": "Renova uma sessão expirada ou próxima de expirar.",
        "operationId": "ClientPortalController_renewSession",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Token de sessão atual",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sessão renovada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "newToken": {
                      "type": "string"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Renovar sessão (Público)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/consents/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna todos os consentimentos do cliente para o portal. Requiere token JWT.",
        "operationId": "ClientPortalController_getClientConsents",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Status dos consentimentos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "consents": {
                      "type": "array"
                    },
                    "summary": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Obter consentimentos do cliente (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/consents/{consentId}/revoke": {
      "patch": {
        "description": "Revoga um consentimento do cliente. Requiere token JWT.",
        "operationId": "ClientPortalController_revokeConsent",
        "parameters": [
          {
            "name": "consentId",
            "required": true,
            "in": "path",
            "description": "ID do consentimento",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Consentimento revogado com sucesso"
          }
        },
        "summary": "Revogar consentimento (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/telemedicine/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna as sessões de telemedicina do cliente. Requiere token JWT.",
        "operationId": "ClientPortalController_getTelemedicineSessions",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de sessões de telemedicina",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "summary": "Obter sessões de telemedicina do cliente (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/profile/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna o perfil completo do cliente. Requiere token JWT.",
        "operationId": "ClientPortalController_getClientProfile",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Perfil do cliente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "summary": "Obter perfil do cliente (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/documents/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna os documentos do cliente. Requiere token JWT.",
        "operationId": "ClientPortalController_getClientDocuments",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de documentos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "summary": "Obter documentos do cliente (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/client-portal/attentions/{commerceId}/{clientId}": {
      "get": {
        "description": "Retorna o histórico de atenções do cliente. Requiere token JWT.",
        "operationId": "ClientPortalController_getClientAttentions",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "ID do comércio",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "ID do cliente",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de atenções",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "summary": "Obter histórico de atenções do cliente (Protegido)",
        "tags": [
          "client-portal"
        ]
      }
    },
    "/survey/{id}": {
      "get": {
        "description": "Retrieves a survey by its unique identifier",
        "operationId": "SurveyController_getSurveyById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Survey ID",
            "schema": {
              "example": "survey-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Survey found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Survey"
                }
              }
            }
          },
          "404": {
            "description": "Survey not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get survey by ID",
        "tags": [
          "survey"
        ]
      }
    },
    "/survey": {
      "get": {
        "description": "Retrieves a list of all surveys",
        "operationId": "SurveyController_getSurveys",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of surveys",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Survey"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all surveys",
        "tags": [
          "survey"
        ]
      },
      "post": {
        "description": "Creates a new survey response",
        "operationId": "SurveyController_createSurvey",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "attentionId": {
                    "type": "string",
                    "example": "attention-123"
                  },
                  "type": {
                    "type": "string",
                    "example": "SIMPLE_CSAT"
                  },
                  "rating": {
                    "type": "number",
                    "example": 5
                  },
                  "nps": {
                    "type": "number",
                    "example": 9
                  },
                  "message": {
                    "type": "string",
                    "example": "Great service!"
                  },
                  "personalizedId": {
                    "type": "string"
                  },
                  "questions": {
                    "type": "array"
                  },
                  "answers": {
                    "type": "array"
                  }
                },
                "required": [
                  "attentionId",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Survey created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Survey"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new survey",
        "tags": [
          "survey"
        ]
      }
    },
    "/survey/contact/{id}": {
      "patch": {
        "description": "Marks a survey for follow-up contact",
        "operationId": "SurveyController_contactSurvey",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Survey ID",
            "schema": {
              "example": "survey-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Survey marked for contact",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Survey"
                }
              }
            }
          },
          "404": {
            "description": "Survey not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Contact survey respondent",
        "tags": [
          "survey"
        ]
      }
    },
    "/health": {
      "get": {
        "description": "Returns the health status of the API",
        "operationId": "HealthController_getHealth",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthOutputDto"
                }
              }
            }
          }
        },
        "summary": "Health check",
        "tags": [
          "health"
        ]
      }
    },
    "/suggestion/{id}": {
      "get": {
        "description": "Retrieves a suggestion by its unique identifier",
        "operationId": "SuggestionController_getSuggestionById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Suggestion ID",
            "schema": {
              "example": "suggestion-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Suggestion found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Suggestion"
                }
              }
            }
          },
          "404": {
            "description": "Suggestion not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get suggestion by ID",
        "tags": [
          "suggestion"
        ]
      }
    },
    "/suggestion": {
      "post": {
        "description": "Creates a new user suggestion or feedback (public endpoint)",
        "operationId": "SuggestionController_createSuggestion",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "example": "FEATURE_REQUEST"
                  },
                  "comment": {
                    "type": "string",
                    "example": "User feedback comment"
                  },
                  "userId": {
                    "type": "string",
                    "example": "user-123"
                  },
                  "userType": {
                    "type": "string",
                    "example": "CLIENT"
                  }
                },
                "required": [
                  "type",
                  "comment"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Suggestion created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Suggestion"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "summary": "Create a new suggestion",
        "tags": [
          "suggestion"
        ]
      }
    },
    "/feature/{id}": {
      "get": {
        "description": "Retrieves a feature by its unique identifier",
        "operationId": "FeatureController_getFeatureToggleById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Feature ID",
            "schema": {
              "example": "feature-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feature found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Feature"
                }
              }
            }
          },
          "404": {
            "description": "Feature not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get feature by ID",
        "tags": [
          "feature"
        ]
      }
    },
    "/feature": {
      "post": {
        "description": "Creates a new system feature definition",
        "operationId": "FeatureController_createFeature",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "new-feature"
                  },
                  "description": {
                    "type": "string",
                    "example": "Feature description"
                  },
                  "type": {
                    "type": "string",
                    "example": "MODULE"
                  },
                  "module": {
                    "type": "string",
                    "example": "module-name"
                  }
                },
                "required": [
                  "name",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Feature created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Feature"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new feature",
        "tags": [
          "feature"
        ]
      }
    },
    "/feature/name/{name}": {
      "get": {
        "description": "Retrieves a feature by its name",
        "operationId": "FeatureController_getFeatureToggleByName",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "description": "Feature name",
            "schema": {
              "example": "new-feature"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feature found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Feature"
                }
              }
            }
          }
        },
        "summary": "Get feature by name",
        "tags": [
          "feature"
        ]
      }
    },
    "/feature/type/{type}": {
      "get": {
        "description": "Retrieves all features of a specific type",
        "operationId": "FeatureController_getFeatureToggleByType",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Feature type",
            "schema": {
              "example": "MODULE"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of features",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Feature"
                  }
                }
              }
            }
          }
        },
        "summary": "Get features by type",
        "tags": [
          "feature"
        ]
      }
    },
    "/feature/module/{module}": {
      "get": {
        "description": "Retrieves all features for a specific module",
        "operationId": "FeatureController_getFeatureByModule",
        "parameters": [
          {
            "name": "module",
            "required": true,
            "in": "path",
            "description": "Module name",
            "schema": {
              "example": "module-name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of features",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Feature"
                  }
                }
              }
            }
          }
        },
        "summary": "Get features by module",
        "tags": [
          "feature"
        ]
      }
    },
    "/block/queueId/{queueId}": {
      "get": {
        "description": "Retrieves all time blocks for a specific queue",
        "operationId": "BlockController_getBlocksByQueueId",
        "parameters": [
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of blocks",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Block"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get blocks by queue ID",
        "tags": [
          "block"
        ]
      }
    },
    "/block/day/queueId/{queueId}": {
      "get": {
        "description": "Retrieves time blocks for a queue organized by day",
        "operationId": "BlockController_getQueueBlockDetailsByDay",
        "parameters": [
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Blocks grouped by day",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Block"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get blocks by queue grouped by day",
        "tags": [
          "block"
        ]
      }
    },
    "/block/day/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves time blocks for all queues in a commerce, organized by day and queue",
        "operationId": "BlockController_getQueueBlockDetailsByDayByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Blocks grouped by day and queue",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get blocks by commerce grouped by day and queue",
        "tags": [
          "block"
        ]
      }
    },
    "/block/specific-day/commerceId/{commerceId}/queueId/{queueId}": {
      "get": {
        "description": "Retrieves time blocks for a specific day, commerce, and queue",
        "operationId": "BlockController_getQueueBlockDetailsBySpecificDayByCommerceId",
        "parameters": [
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Blocks for specific day",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Block"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get blocks for specific day by commerce and queue",
        "tags": [
          "block"
        ]
      }
    },
    "/lead/internal": {
      "post": {
        "description": "Internal endpoint for creating leads from public contact forms. No authentication required.",
        "operationId": "LeadController_createLeadFromContactFormInternal",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "contact-123"
                  },
                  "name": {
                    "type": "string",
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "example": "john@example.com"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "company": {
                    "type": "string",
                    "example": "Acme Inc"
                  },
                  "message": {
                    "type": "string",
                    "example": "Interested in your services"
                  },
                  "source": {
                    "type": "string",
                    "example": "contact-form"
                  },
                  "page": {
                    "type": "string",
                    "example": "https://easuavez.com/pricing"
                  },
                  "temperature": {
                    "type": "string",
                    "enum": [
                      "QUENTE",
                      "MORNO",
                      "FRIO"
                    ],
                    "example": "MORNO",
                    "description": "Lead priority: QUENTE (hot/red), MORNO (warm/green), FRIO (cold/blue). Defaults to MORNO."
                  }
                },
                "required": [
                  "id",
                  "name",
                  "email",
                  "source"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Lead created successfully"
          },
          "400": {
            "description": "Bad request"
          }
        },
        "summary": "Create lead from contact form (internal)",
        "tags": [
          "lead"
        ]
      }
    },
    "/lead": {
      "post": {
        "description": "Create a lead from contact form submission. Requires authentication.",
        "operationId": "LeadController_createLeadFromContactForm",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "contact-123"
                  },
                  "name": {
                    "type": "string",
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "example": "john@example.com"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "company": {
                    "type": "string",
                    "example": "Acme Inc"
                  },
                  "message": {
                    "type": "string",
                    "example": "Interested in your services"
                  },
                  "source": {
                    "type": "string",
                    "example": "contact-form"
                  },
                  "page": {
                    "type": "string",
                    "example": "https://easuavez.com/pricing"
                  },
                  "temperature": {
                    "type": "string",
                    "enum": [
                      "QUENTE",
                      "MORNO",
                      "FRIO"
                    ],
                    "example": "MORNO",
                    "description": "Lead priority: QUENTE (hot/red), MORNO (warm/green), FRIO (cold/blue). Defaults to MORNO."
                  }
                },
                "required": [
                  "id",
                  "name",
                  "email",
                  "source"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Lead created successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create lead from contact form",
        "tags": [
          "lead"
        ]
      },
      "get": {
        "operationId": "LeadController_getAllLeads",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/from-contact-form/{contactFormId}": {
      "post": {
        "operationId": "LeadController_createLeadFromContactFormId",
        "parameters": [
          {
            "name": "contactFormId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/stage/{stage}": {
      "get": {
        "operationId": "LeadController_getLeadsByStage",
        "parameters": [
          {
            "name": "stage",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "businessId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/{id}": {
      "get": {
        "operationId": "LeadController_getLeadById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      },
      "put": {
        "operationId": "LeadController_updateLead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/{id}/stage": {
      "put": {
        "operationId": "LeadController_updateLeadStage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/{id}/assign": {
      "put": {
        "operationId": "LeadController_assignLead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/{id}/contact": {
      "post": {
        "operationId": "LeadController_addLeadContact",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/lead/{id}/contacts": {
      "get": {
        "operationId": "LeadController_getLeadContacts",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "tags": [
          "lead"
        ]
      }
    },
    "/product/{id}": {
      "get": {
        "description": "Retrieves a product by its unique identifier",
        "operationId": "ProductController_getProductById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product ID",
            "schema": {
              "example": "product-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get product by ID",
        "tags": [
          "product"
        ]
      },
      "patch": {
        "description": "Updates product configuration and inventory levels",
        "operationId": "ProductController_updateProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product ID",
            "schema": {
              "example": "product-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update product",
        "tags": [
          "product"
        ]
      }
    },
    "/product": {
      "get": {
        "description": "Retrieves a list of all products",
        "operationId": "ProductController_getProducts",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all products",
        "tags": [
          "product"
        ]
      },
      "post": {
        "description": "Creates a new product for inventory management",
        "operationId": "ProductController_createProduct",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Product"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Product"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new product",
        "tags": [
          "product"
        ]
      }
    },
    "/product/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all products for a specific commerce",
        "operationId": "ProductController_getProductByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get products by commerce",
        "tags": [
          "product"
        ]
      }
    },
    "/product/commerceId/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active products for a specific commerce",
        "operationId": "ProductController_getActiveProductsByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active products by commerce",
        "tags": [
          "product"
        ]
      }
    },
    "/product/list/{ids}": {
      "get": {
        "description": "Retrieves multiple products by their IDs (comma-separated)",
        "operationId": "ProductController_getProductsById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated product IDs",
            "schema": {
              "example": "product-1,product-2,product-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of products",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Product"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get products by IDs",
        "tags": [
          "product"
        ]
      }
    },
    "/product/replacement": {
      "post": {
        "description": "Records a product replacement/restock",
        "operationId": "ProductController_createProductReplacement",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductReplacement"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product replacement created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductReplacement"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create product replacement",
        "tags": [
          "product"
        ]
      }
    },
    "/product/consumption": {
      "post": {
        "description": "Records product consumption/usage",
        "operationId": "ProductController_createProductConsumption",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductConsumption"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product consumption created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductConsumption"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create product consumption",
        "tags": [
          "product"
        ]
      }
    },
    "/product/replacement/available/{productId}": {
      "get": {
        "description": "Retrieves all active product replacements for a specific product",
        "operationId": "ProductController_getActiveReplacementsByProduct",
        "parameters": [
          {
            "name": "productId",
            "required": true,
            "in": "path",
            "description": "Product ID",
            "schema": {
              "example": "product-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active replacements",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductReplacement"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active replacements by product",
        "tags": [
          "product"
        ]
      }
    },
    "/product/alerts/{commerceId}": {
      "get": {
        "description": "Retrieves all active alerts for products in a commerce",
        "operationId": "ProductController_getActiveAlerts",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active alerts"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active product alerts",
        "tags": [
          "product"
        ]
      }
    },
    "/professional-commission-payment/unpaid/professional/{professionalId}": {
      "get": {
        "operationId": "ProfessionalCommissionPaymentController_getUnpaidIncomesByProfessional",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "from",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment/commerce/{commerceId}/status/{status}": {
      "get": {
        "operationId": "ProfessionalCommissionPaymentController_getCommissionPaymentsByStatus",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment/commerce/{commerceId}": {
      "get": {
        "operationId": "ProfessionalCommissionPaymentController_getCommissionPaymentsByCommerce",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment/professional/{professionalId}": {
      "get": {
        "operationId": "ProfessionalCommissionPaymentController_getCommissionPaymentsByProfessional",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment/{id}": {
      "get": {
        "operationId": "ProfessionalCommissionPaymentController_getCommissionPaymentById",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      },
      "patch": {
        "operationId": "ProfessionalCommissionPaymentController_updateCommissionPayment",
        "parameters": [
          {
            "name": "user",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment": {
      "post": {
        "operationId": "ProfessionalCommissionPaymentController_createCommissionPayment",
        "parameters": [
          {
            "name": "user",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment/{id}/confirm": {
      "post": {
        "operationId": "ProfessionalCommissionPaymentController_confirmCommissionPayment",
        "parameters": [
          {
            "name": "user",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/professional-commission-payment/{id}/cancel": {
      "post": {
        "operationId": "ProfessionalCommissionPaymentController_cancelCommissionPayment",
        "parameters": [
          {
            "name": "user",
            "required": true,
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "ProfessionalCommissionPayment"
        ]
      }
    },
    "/outcome/{id}": {
      "get": {
        "description": "Retrieves an outcome record by its unique identifier",
        "operationId": "OutcomeController_getOutcomeById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Outcome ID",
            "schema": {
              "example": "outcome-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Outcome found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Outcome"
                }
              }
            }
          },
          "404": {
            "description": "Outcome not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get outcome by ID",
        "tags": [
          "outcome"
        ]
      },
      "patch": {
        "description": "Updates outcome information and configuration",
        "operationId": "OutcomeController_updateOutcome",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Outcome ID",
            "schema": {
              "example": "outcome-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Outcome"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Outcome updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Outcome"
                }
              }
            }
          },
          "404": {
            "description": "Outcome not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update outcome",
        "tags": [
          "outcome"
        ]
      }
    },
    "/outcome": {
      "get": {
        "description": "Retrieves a list of all outcome records",
        "operationId": "OutcomeController_getOutcomes",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of outcomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Outcome"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all outcomes",
        "tags": [
          "outcome"
        ]
      },
      "post": {
        "description": "Creates a new expense/outcome record",
        "operationId": "OutcomeController_createOutcome",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Outcome"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Outcome created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Outcome"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new outcome",
        "tags": [
          "outcome"
        ]
      }
    },
    "/outcome/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all outcome records for a specific commerce",
        "operationId": "OutcomeController_getOutcomeByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of outcomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Outcome"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get outcomes by commerce",
        "tags": [
          "outcome"
        ]
      }
    },
    "/outcome/commerceId/{commerceId}/packageId/{packageId}": {
      "get": {
        "description": "Retrieves pending outcome records for a specific package",
        "operationId": "OutcomeController_getPendingOutcomeByPackage",
        "parameters": [
          {
            "name": "packageId",
            "required": true,
            "in": "path",
            "description": "Package ID",
            "schema": {
              "example": "package-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of pending outcomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Outcome"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get pending outcomes by package",
        "tags": [
          "outcome"
        ]
      }
    },
    "/outcome/list/{ids}": {
      "get": {
        "description": "Retrieves multiple outcome records by their IDs (comma-separated)",
        "operationId": "OutcomeController_getOutcomesById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated outcome IDs",
            "schema": {
              "example": "outcome-1,outcome-2,outcome-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of outcomes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Outcome"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get outcomes by IDs",
        "tags": [
          "outcome"
        ]
      }
    },
    "/outcome-type/{id}": {
      "get": {
        "description": "Retrieves an outcome type by its unique identifier",
        "operationId": "OutcomeTypeController_getOutcomeTypeById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Outcome type ID",
            "schema": {
              "example": "outcome-type-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Outcome type found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeType"
                }
              }
            }
          },
          "404": {
            "description": "Outcome type not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get outcome type by ID",
        "tags": [
          "outcome-type"
        ]
      },
      "patch": {
        "description": "Updates outcome type configuration",
        "operationId": "OutcomeTypeController_updateOutcomeType",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Outcome type ID",
            "schema": {
              "example": "outcome-type-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutcomeType"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Outcome type updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeType"
                }
              }
            }
          },
          "404": {
            "description": "Outcome type not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update outcome type",
        "tags": [
          "outcome-type"
        ]
      }
    },
    "/outcome-type": {
      "get": {
        "description": "Retrieves a list of all outcome types",
        "operationId": "OutcomeTypeController_getOutcomeTypes",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of outcome types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OutcomeType"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all outcome types",
        "tags": [
          "outcome-type"
        ]
      },
      "post": {
        "description": "Creates a new outcome type category",
        "operationId": "OutcomeTypeController_createOutcomeType",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OutcomeType"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Outcome type created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutcomeType"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new outcome type",
        "tags": [
          "outcome-type"
        ]
      }
    },
    "/outcome-type/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all outcome types for a specific commerce",
        "operationId": "OutcomeTypeController_getOutcomeTypeByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of outcome types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OutcomeType"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get outcome types by commerce",
        "tags": [
          "outcome-type"
        ]
      }
    },
    "/outcome-type/list/{ids}": {
      "get": {
        "description": "Retrieves multiple outcome types by their IDs (comma-separated)",
        "operationId": "OutcomeTypeController_getOutcomeTypesById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated outcome type IDs",
            "schema": {
              "example": "type-1,type-2,type-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of outcome types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OutcomeType"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get outcome types by IDs",
        "tags": [
          "outcome-type"
        ]
      }
    },
    "/company/{id}": {
      "get": {
        "description": "Retrieves a company by its unique identifier",
        "operationId": "CompanyController_getCompanyById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Company ID",
            "schema": {
              "example": "company-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Company found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Company"
                }
              }
            }
          },
          "404": {
            "description": "Company not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get company by ID",
        "tags": [
          "company"
        ]
      },
      "patch": {
        "description": "Updates company configuration and information",
        "operationId": "CompanyController_updateCompany",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Company ID",
            "schema": {
              "example": "company-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Company"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Company updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Company"
                }
              }
            }
          },
          "404": {
            "description": "Company not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update company",
        "tags": [
          "company"
        ]
      }
    },
    "/company": {
      "get": {
        "description": "Retrieves a list of all companies",
        "operationId": "CompanyController_getCompanies",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of companies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Company"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all companies",
        "tags": [
          "company"
        ]
      },
      "post": {
        "description": "Creates a new company record",
        "operationId": "CompanyController_createCompany",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Company"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Company created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Company"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new company",
        "tags": [
          "company"
        ]
      }
    },
    "/company/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all companies for a specific commerce",
        "operationId": "CompanyController_getCompanyByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of companies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Company"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get companies by commerce",
        "tags": [
          "company"
        ]
      }
    },
    "/company/commerceId/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active companies for a specific commerce",
        "operationId": "CompanyController_getActiveCompaniesByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active companies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Company"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active companies by commerce",
        "tags": [
          "company"
        ]
      }
    },
    "/company/commerceId/{commerceId}/type/{type}": {
      "get": {
        "description": "Retrieves active companies filtered by commerce and type",
        "operationId": "CompanyController_getActiveCompaniesByCommerceIdAndType",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Company type",
            "schema": {
              "example": "SUPPLIER"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active companies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Company"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active companies by commerce and type",
        "tags": [
          "company"
        ]
      }
    },
    "/company/list/{ids}": {
      "get": {
        "description": "Retrieves multiple companies by their IDs (comma-separated)",
        "operationId": "CompanyController_getCompaniesById",
        "parameters": [
          {
            "name": "ids",
            "required": true,
            "in": "path",
            "description": "Comma-separated company IDs",
            "schema": {
              "example": "company-1,company-2,company-3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of companies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Company"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get companies by IDs",
        "tags": [
          "company"
        ]
      }
    },
    "/patient-history-item/{id}": {
      "get": {
        "description": "Retrieves a patient history item by its unique identifier",
        "operationId": "PatientHistoryItemController_getPatientHistoryItemById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Patient history item ID",
            "schema": {
              "example": "patient-history-item-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Patient history item found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistoryItem"
                }
              }
            }
          },
          "404": {
            "description": "Patient history item not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient history item by ID",
        "tags": [
          "patient-history-item"
        ]
      },
      "patch": {
        "description": "Updates patient history item configuration and status",
        "operationId": "PatientHistoryItemController_updatePatientHistoryItemConfigurations",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Patient history item ID",
            "schema": {
              "example": "patient-history-item-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientHistoryItem"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Patient history item updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistoryItem"
                }
              }
            }
          },
          "404": {
            "description": "Patient history item not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update patient history item configurations",
        "tags": [
          "patient-history-item"
        ]
      }
    },
    "/patient-history-item": {
      "get": {
        "description": "Retrieves a list of all patient history items",
        "operationId": "PatientHistoryItemController_getAllPatientHistoryItem",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of patient history items",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistoryItem"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all patient history items",
        "tags": [
          "patient-history-item"
        ]
      },
      "post": {
        "description": "Creates a new patient history item definition",
        "operationId": "PatientHistoryItemController_createPatientHistoryItem",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientHistoryItem"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Patient history item created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientHistoryItem"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new patient history item",
        "tags": [
          "patient-history-item"
        ]
      }
    },
    "/patient-history-item/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all patient history items for a specific commerce",
        "operationId": "PatientHistoryItemController_getPatientHistoryItemsByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of patient history items",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistoryItem"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient history items by commerce",
        "tags": [
          "patient-history-item"
        ]
      }
    },
    "/patient-history-item/commerceId/{commerceId}/active": {
      "get": {
        "description": "Retrieves all active patient history items for a specific commerce",
        "operationId": "PatientHistoryItemController_getActivePatientHistoryItemsByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active patient history items",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistoryItem"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active patient history items by commerce",
        "tags": [
          "patient-history-item"
        ]
      }
    },
    "/patient-history-item/commerceId/{commerceId}/type/{type}": {
      "get": {
        "description": "Retrieves active patient history items filtered by commerce and type",
        "operationId": "PatientHistoryItemController_getActivePatientHistoryItemsByCommerceIdAndType",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Item type",
            "schema": {
              "example": "SYMPTOM"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active patient history items",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PatientHistoryItem"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active patient history items by commerce and type",
        "tags": [
          "patient-history-item"
        ]
      }
    },
    "/patient-photos/{commerceId}/{clientId}": {
      "post": {
        "description": "Uploads a new photo for a patient",
        "operationId": "PatientPhotoController_uploadPatientPhoto",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "photo": {
                    "type": "string",
                    "format": "binary",
                    "description": "Patient photo file (JPG, PNG, WebP, max 5MB)"
                  },
                  "photoType": {
                    "type": "string",
                    "example": "patient_profile",
                    "description": "Type of photo"
                  },
                  "uploadDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Upload date"
                  }
                },
                "required": [
                  "photo"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Photo uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientPhoto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload patient photo",
        "tags": [
          "patient-photos"
        ]
      },
      "get": {
        "description": "Retrieves patient photo metadata",
        "operationId": "PatientPhotoController_getPatientPhoto",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Patient photo metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientPhoto"
                }
              }
            }
          },
          "404": {
            "description": "Photo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient photo metadata",
        "tags": [
          "patient-photos"
        ]
      },
      "put": {
        "description": "Replaces the existing patient photo with a new one",
        "operationId": "PatientPhotoController_updatePatientPhoto",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "photo": {
                    "type": "string",
                    "format": "binary",
                    "description": "New patient photo file (JPG, PNG, WebP, max 5MB)"
                  },
                  "photoType": {
                    "type": "string",
                    "example": "patient_profile",
                    "description": "Type of photo"
                  },
                  "uploadDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Upload date"
                  }
                },
                "required": [
                  "photo"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Photo updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientPhoto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file"
          },
          "404": {
            "description": "Patient not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update patient photo",
        "tags": [
          "patient-photos"
        ]
      }
    },
    "/patient-photos/{commerceId}/{clientId}/{photoId}": {
      "get": {
        "description": "Retrieves and streams the patient photo file",
        "operationId": "PatientPhotoController_getPatientPhotoFile",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123",
              "type": "string"
            }
          },
          {
            "name": "photoId",
            "required": true,
            "in": "path",
            "description": "Photo ID",
            "schema": {
              "example": "photo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Patient photo file stream"
          },
          "404": {
            "description": "Photo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient photo file",
        "tags": [
          "patient-photos"
        ]
      },
      "delete": {
        "description": "Deletes a patient photo and its thumbnail",
        "operationId": "PatientPhotoController_deletePatientPhoto",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123",
              "type": "string"
            }
          },
          {
            "name": "photoId",
            "required": true,
            "in": "path",
            "description": "Photo ID",
            "schema": {
              "example": "photo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Photo deleted successfully"
          },
          "403": {
            "description": "Forbidden - Not authorized"
          },
          "404": {
            "description": "Photo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete patient photo",
        "tags": [
          "patient-photos"
        ]
      }
    },
    "/patient-photos/{commerceId}/{clientId}/{photoId}/thumbnail": {
      "get": {
        "description": "Retrieves and streams the patient photo thumbnail",
        "operationId": "PatientPhotoController_getPatientPhotoThumbnail",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123",
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123",
              "type": "string"
            }
          },
          {
            "name": "photoId",
            "required": true,
            "in": "path",
            "description": "Photo ID",
            "schema": {
              "example": "photo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Patient photo thumbnail stream"
          },
          "404": {
            "description": "Thumbnail not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get patient photo thumbnail",
        "tags": [
          "patient-photos"
        ]
      }
    },
    "/business-logos/{businessId}": {
      "post": {
        "description": "Uploads a new logo for a business",
        "operationId": "BusinessLogoController_uploadBusinessLogo",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "Business logo file (JPG, PNG, WebP, max 5MB)"
                  },
                  "logoType": {
                    "type": "string",
                    "example": "business_logo",
                    "description": "Type of logo"
                  },
                  "uploadDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Upload date"
                  }
                },
                "required": [
                  "logo"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Logo uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BusinessLogo"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Upload business logo",
        "tags": [
          "business-logos"
        ]
      },
      "get": {
        "description": "Retrieves business logo URL for access through backend",
        "operationId": "BusinessLogoController_getBusinessLogo",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "yWwwFl5BaDmHU69mvshG",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Business logo signed URL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Logo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get business logo URL",
        "tags": [
          "business-logos"
        ]
      },
      "put": {
        "description": "Replaces the existing business logo with a new one",
        "operationId": "BusinessLogoController_updateBusinessLogo",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "logo": {
                    "type": "string",
                    "format": "binary",
                    "description": "New business logo file (JPG, PNG, WebP, max 5MB)"
                  },
                  "logoType": {
                    "type": "string",
                    "example": "business_logo",
                    "description": "Type of logo"
                  },
                  "uploadDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Upload date"
                  }
                },
                "required": [
                  "logo"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logo updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BusinessLogo"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file"
          },
          "404": {
            "description": "Business not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update business logo",
        "tags": [
          "business-logos"
        ]
      }
    },
    "/business-logos/{businessId}/{logoId}": {
      "get": {
        "description": "Retrieves and streams the business logo file",
        "operationId": "BusinessLogoController_getBusinessLogoFile",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123",
              "type": "string"
            }
          },
          {
            "name": "logoId",
            "required": true,
            "in": "path",
            "description": "Logo ID",
            "schema": {
              "example": "logo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Business logo file stream"
          },
          "404": {
            "description": "Logo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get business logo file",
        "tags": [
          "business-logos"
        ]
      },
      "delete": {
        "description": "Deletes a business logo and its thumbnail",
        "operationId": "BusinessLogoController_deleteBusinessLogo",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123",
              "type": "string"
            }
          },
          {
            "name": "logoId",
            "required": true,
            "in": "path",
            "description": "Logo ID",
            "schema": {
              "example": "logo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Logo deleted successfully"
          },
          "403": {
            "description": "Forbidden - Not authorized"
          },
          "404": {
            "description": "Logo not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete business logo",
        "tags": [
          "business-logos"
        ]
      }
    },
    "/business-logos/{businessId}/{logoId}/thumbnail": {
      "get": {
        "description": "Retrieves and streams the business logo thumbnail",
        "operationId": "BusinessLogoController_getBusinessLogoThumbnail",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "description": "Business ID",
            "schema": {
              "example": "business-123",
              "type": "string"
            }
          },
          {
            "name": "logoId",
            "required": true,
            "in": "path",
            "description": "Logo ID",
            "schema": {
              "example": "logo-123",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Business logo thumbnail stream"
          },
          "404": {
            "description": "Thumbnail not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get business logo thumbnail",
        "tags": [
          "business-logos"
        ]
      }
    },
    "/prescription/medications/search": {
      "get": {
        "description": "Search for medications in the catalog",
        "operationId": "PrescriptionController_searchMedications",
        "parameters": [
          {
            "name": "searchTerm",
            "required": false,
            "in": "query",
            "description": "Término de búsqueda",
            "schema": {
              "example": "paracetamol",
              "type": "string"
            }
          },
          {
            "name": "atcCode",
            "required": false,
            "in": "query",
            "description": "Código ATC",
            "schema": {
              "example": "N02BE01",
              "type": "string"
            }
          },
          {
            "name": "activePrinciple",
            "required": false,
            "in": "query",
            "description": "Principio activo",
            "schema": {
              "example": "acetaminophen",
              "type": "string"
            }
          },
          {
            "name": "commerceId",
            "required": false,
            "in": "query",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Número de página",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Tamaño de página",
            "schema": {
              "default": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of medications"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Search medications",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/medications": {
      "get": {
        "description": "Retrieves all active medications from the catalog",
        "operationId": "PrescriptionController_getAllMedications",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of medications",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicationCatalog"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all medications",
        "tags": [
          "prescription"
        ]
      },
      "post": {
        "description": "Creates a new medication in the catalog",
        "operationId": "PrescriptionController_createMedication",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Medication created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicationCatalog"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create medication",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/medications/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all active medications for a specific commerce",
        "operationId": "PrescriptionController_getMedicationsByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of medications",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicationCatalog"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get medications by commerce",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/medications/{id}": {
      "get": {
        "description": "Retrieves a medication from the catalog by ID",
        "operationId": "PrescriptionController_getMedicationById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Medication ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Medication found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicationCatalog"
                }
              }
            }
          },
          "404": {
            "description": "Medication not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get medication by ID",
        "tags": [
          "prescription"
        ]
      },
      "patch": {
        "description": "Updates a medication in the catalog",
        "operationId": "PrescriptionController_updateMedication",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Medication ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Medication updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicationCatalog"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update medication",
        "tags": [
          "prescription"
        ]
      },
      "delete": {
        "description": "Soft deletes a medication from the catalog",
        "operationId": "PrescriptionController_deleteMedication",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Medication ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Medication deleted successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete medication",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription": {
      "post": {
        "description": "Creates a structured prescription with medications",
        "operationId": "PrescriptionController_createPrescription",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePrescriptionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Prescription created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new prescription",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}": {
      "get": {
        "description": "Retrieves a prescription by its ID",
        "operationId": "PrescriptionController_getPrescriptionById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Prescription found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          },
          "404": {
            "description": "Prescription not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get prescription by ID",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/client/{commerceId}/{clientId}": {
      "get": {
        "description": "Retrieves all prescriptions for a specific client",
        "operationId": "PrescriptionController_getPrescriptionsByClient",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of prescriptions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Prescription"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get prescriptions by client",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/client/{commerceId}/{clientId}/active": {
      "get": {
        "description": "Retrieves all active prescriptions for a specific client",
        "operationId": "PrescriptionController_getActivePrescriptionsByClient",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of active prescriptions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Prescription"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get active prescriptions by client",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}/refill": {
      "post": {
        "description": "Refills a prescription or a specific medication",
        "operationId": "PrescriptionController_refillPrescription",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "medicationIndex",
            "required": false,
            "in": "query",
            "description": "Index of medication to refill",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Prescription refilled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Refill prescription",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}/dispensation": {
      "post": {
        "description": "Records a medication dispensation",
        "operationId": "PrescriptionController_recordDispensation",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pharmacy": {
                    "type": "string"
                  },
                  "pharmacist": {
                    "type": "string"
                  },
                  "quantity": {
                    "type": "number"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dispensation recorded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Record dispensation",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}/cancel": {
      "patch": {
        "description": "Cancels a prescription",
        "operationId": "PrescriptionController_cancelPrescription",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Prescription cancelled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Prescription"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Cancel prescription",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/validate-interactions": {
      "post": {
        "description": "Validates potential interactions between medications",
        "operationId": "PrescriptionController_validateInteractions",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "medicationIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Interaction validation result"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Validate medication interactions",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}/pdf": {
      "get": {
        "description": "Downloads the PDF file for a prescription",
        "operationId": "PrescriptionController_downloadPrescriptionPdf",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF file",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "PDF not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Download prescription PDF",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}/pdf-url": {
      "get": {
        "description": "Gets a signed URL to download the prescription PDF",
        "operationId": "PrescriptionController_getPrescriptionPdfUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expiresIn",
            "required": false,
            "in": "query",
            "description": "URL expiration in seconds (default: 3600)",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Signed URL for PDF download",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string"
                    },
                    "expiresIn": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get prescription PDF URL",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/{id}/send-email": {
      "post": {
        "description": "Sends the prescription PDF to the specified email address",
        "operationId": "PrescriptionController_sendPrescriptionByEmail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Prescription ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "recipientEmail": {
                    "type": "string",
                    "format": "email"
                  },
                  "subject": {
                    "type": "string"
                  },
                  "message": {
                    "type": "string"
                  }
                },
                "required": [
                  "recipientEmail"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email sent successfully"
          },
          "404": {
            "description": "Prescription not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send prescription PDF by email",
        "tags": [
          "prescription"
        ]
      }
    },
    "/prescription/suggestions/attention/{commerceId}/{clientId}/{attentionId}": {
      "get": {
        "description": "Gets active prescriptions with matching products and stock availability for an attention",
        "operationId": "PrescriptionController_getPrescriptionSuggestionsForAttention",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "attentionId",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of prescription suggestions with product availability"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get prescription suggestions for attention",
        "tags": [
          "prescription"
        ]
      }
    },
    "/public/prescription/verify/{id}": {
      "get": {
        "description": "Endpoint público para verificar la autenticidad de una prescripción médica mediante su ID. No requiere autenticación.",
        "operationId": "PrescriptionVerificationController_verifyPrescription",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la prescripción",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Información de verificación de la prescripción",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyPrescriptionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Prescripción no encontrada"
          }
        },
        "summary": "Verificar prescripción médica",
        "tags": [
          "public-verification"
        ]
      }
    },
    "/prescription/{id}/sign": {
      "post": {
        "description": "Assina uma prescrição usando certificado digital ICP-Brasil (PKCS#7). Após assinatura, o documento não pode ser alterado.",
        "operationId": "PrescriptionSignatureController_signPrescription",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da prescrição",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "certificatePem": {
                    "type": "string",
                    "description": "Certificado em formato PEM"
                  },
                  "privateKeyPem": {
                    "type": "string",
                    "description": "Chave privada em formato PEM"
                  },
                  "password": {
                    "type": "string",
                    "description": "Senha do certificado (se necessário)"
                  }
                },
                "required": [
                  "certificatePem",
                  "privateKeyPem"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Prescrição assinada com sucesso"
          },
          "400": {
            "description": "Prescrição já assinada ou certificado inválido"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Assinar prescrição com certificado digital ICP-Brasil",
        "tags": [
          "prescription-signature"
        ]
      }
    },
    "/prescription/{id}/verify-signature": {
      "post": {
        "description": "Verifica a autenticidade da assinatura digital ICP-Brasil",
        "operationId": "PrescriptionSignatureController_verifySignature",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da prescrição",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Resultado da verificação"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Verificar assinatura digital da prescrição",
        "tags": [
          "prescription-signature"
        ]
      }
    },
    "/pdf-template": {
      "get": {
        "description": "Obtiene una lista de templates de PDF según filtros",
        "operationId": "PdfTemplateController_listTemplates",
        "parameters": [
          {
            "name": "documentType",
            "required": false,
            "in": "query",
            "description": "Tipo de documento (prescription, exam_order, reference)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "commerceId",
            "required": false,
            "in": "query",
            "description": "ID del commerce",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "scope",
            "required": false,
            "in": "query",
            "description": "Alcance (GLOBAL, COMMERCE, PERSONAL)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de templates",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PdfTemplate"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Listar templates de PDF",
        "tags": [
          "pdf-template"
        ]
      },
      "post": {
        "description": "Crea un nuevo template de PDF",
        "operationId": "PdfTemplateController_createTemplate",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePdfTemplateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Template creado exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PdfTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Crear template de PDF",
        "tags": [
          "pdf-template"
        ]
      }
    },
    "/pdf-template/{id}": {
      "get": {
        "description": "Obtiene un template de PDF por su ID",
        "operationId": "PdfTemplateController_getTemplateById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del template",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Template encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PdfTemplate"
                }
              }
            }
          },
          "404": {
            "description": "Template no encontrado"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Obtener template por ID",
        "tags": [
          "pdf-template"
        ]
      },
      "patch": {
        "description": "Actualiza un template de PDF existente",
        "operationId": "PdfTemplateController_updateTemplate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del template",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePdfTemplateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Template actualizado exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PdfTemplate"
                }
              }
            }
          },
          "404": {
            "description": "Template no encontrado"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Actualizar template de PDF",
        "tags": [
          "pdf-template"
        ]
      },
      "delete": {
        "description": "Elimina un template de PDF (soft delete)",
        "operationId": "PdfTemplateController_deleteTemplate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del template",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Template eliminado exitosamente"
          },
          "404": {
            "description": "Template no encontrado"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Eliminar template de PDF",
        "tags": [
          "pdf-template"
        ]
      }
    },
    "/pdf-template/{id}/set-default": {
      "post": {
        "description": "Establece un template como template por defecto para su tipo de documento",
        "operationId": "PdfTemplateController_setAsDefault",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del template",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Template establecido como por defecto"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Establecer template como por defecto",
        "tags": [
          "pdf-template"
        ]
      }
    },
    "/pdf-template/{id}/preview": {
      "post": {
        "description": "Genera un PDF de preview del template con datos de ejemplo",
        "operationId": "PdfTemplateController_generatePreview",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID del template",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF de preview generado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "previewUrl": {
                      "type": "string",
                      "description": "URL firmada de S3 del PDF generado"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Generar preview del template",
        "tags": [
          "pdf-template"
        ]
      }
    },
    "/cie10/search": {
      "get": {
        "description": "Search for CIE-10 codes by code or description",
        "operationId": "CIE10Controller_searchCodes",
        "parameters": [
          {
            "name": "q",
            "required": false,
            "in": "query",
            "description": "Search term",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of results",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of CIE-10 codes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Search CIE-10 codes",
        "tags": [
          "cie10"
        ]
      }
    },
    "/cie10/code/{code}": {
      "get": {
        "description": "Retrieves a CIE-10 code by its exact code",
        "operationId": "CIE10Controller_getCodeByCode",
        "parameters": [
          {
            "name": "code",
            "required": true,
            "in": "path",
            "description": "CIE-10 code",
            "schema": {
              "example": "E11",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "CIE-10 code found"
          },
          "404": {
            "description": "CIE-10 code not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get CIE-10 code by code",
        "tags": [
          "cie10"
        ]
      }
    },
    "/cie10/validate/{code}": {
      "get": {
        "description": "Validates if a CIE-10 code exists",
        "operationId": "CIE10Controller_validateCode",
        "parameters": [
          {
            "name": "code",
            "required": true,
            "in": "path",
            "description": "CIE-10 code to validate",
            "schema": {
              "example": "E11",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    },
                    "code": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Validate CIE-10 code",
        "tags": [
          "cie10"
        ]
      }
    },
    "/cie10": {
      "get": {
        "description": "Retrieves all CIE-10 codes with pagination",
        "operationId": "CIE10Controller_getAllCodes",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of CIE-10 codes"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all CIE-10 codes (paginated)",
        "tags": [
          "cie10"
        ]
      }
    },
    "/cie10/chapter/{chapter}": {
      "get": {
        "description": "Retrieves all CIE-10 codes for a specific chapter",
        "operationId": "CIE10Controller_getCodesByChapter",
        "parameters": [
          {
            "name": "chapter",
            "required": true,
            "in": "path",
            "description": "Chapter number (Roman numeral)",
            "schema": {
              "example": "IX",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of CIE-10 codes for the chapter"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get CIE-10 codes by chapter",
        "tags": [
          "cie10"
        ]
      }
    },
    "/clinical-alerts": {
      "post": {
        "description": "Creates a new clinical alert",
        "operationId": "ClinicalAlertsController_createAlert",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Object"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Alert created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClinicalAlert"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a clinical alert",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/clinical-alerts/client/{commerceId}/{clientId}": {
      "get": {
        "description": "Retrieves all alerts for a specific client",
        "operationId": "ClinicalAlertsController_getAlertsByClient",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activeOnly",
            "required": false,
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of alerts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClinicalAlert"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get alerts by client",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/clinical-alerts/attention/{commerceId}/{attentionId}": {
      "get": {
        "description": "Retrieves all alerts for a specific attention",
        "operationId": "ClinicalAlertsController_getAlertsByAttention",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "attentionId",
            "required": true,
            "in": "path",
            "description": "Attention ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of alerts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClinicalAlert"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get alerts by attention",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/clinical-alerts/{id}/acknowledge": {
      "patch": {
        "description": "Marks an alert as acknowledged",
        "operationId": "ClinicalAlertsController_acknowledgeAlert",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Alert ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Alert acknowledged successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClinicalAlert"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Acknowledge alert",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/clinical-alerts/{id}/resolve": {
      "patch": {
        "description": "Marks an alert as resolved",
        "operationId": "ClinicalAlertsController_resolveAlert",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Alert ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Alert resolved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClinicalAlert"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Resolve alert",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/clinical-alerts/validate/allergies": {
      "post": {
        "description": "Validates allergies for medications",
        "operationId": "ClinicalAlertsController_checkAllergies",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clientId": {
                    "type": "string"
                  },
                  "medicationIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of allergy alerts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClinicalAlert"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Check allergies",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/clinical-alerts/validate/interactions": {
      "post": {
        "description": "Validates drug interactions",
        "operationId": "ClinicalAlertsController_checkInteractions",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clientId": {
                    "type": "string"
                  },
                  "medicationIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of interaction alerts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClinicalAlert"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Check drug interactions",
        "tags": [
          "clinical-alerts"
        ]
      }
    },
    "/medical-exam-order/exams": {
      "get": {
        "description": "Retrieves all active medical exams from the catalog",
        "operationId": "MedicalExamOrderController_getAllExams",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of exams",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicalExam"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all medical exams",
        "tags": [
          "medical-exam-order"
        ]
      },
      "post": {
        "description": "Creates a new medical exam in the catalog",
        "operationId": "MedicalExamOrderController_createMedicalExam",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalExamDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Exam created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExam"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create medical exam",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/exams/commerce/{commerceId}": {
      "get": {
        "description": "Retrieves all active medical exams for a specific commerce",
        "operationId": "MedicalExamOrderController_getExamsByCommerce",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of exams",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicalExam"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get medical exams by commerce",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/exams/search": {
      "get": {
        "description": "Search for medical exams in the catalog",
        "operationId": "MedicalExamOrderController_searchExams",
        "parameters": [
          {
            "name": "q",
            "required": false,
            "in": "query",
            "description": "Search term",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "laboratory",
                "imaging",
                "procedure",
                "other"
              ],
              "type": "string"
            }
          },
          {
            "name": "commerceId",
            "required": false,
            "in": "query",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of exams"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Search medical exams",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/exams/{id}": {
      "get": {
        "description": "Retrieves a medical exam from the catalog by ID",
        "operationId": "MedicalExamOrderController_getExamById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Exam found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExam"
                }
              }
            }
          },
          "404": {
            "description": "Exam not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get exam by ID",
        "tags": [
          "medical-exam-order"
        ]
      },
      "patch": {
        "description": "Updates a medical exam in the catalog",
        "operationId": "MedicalExamOrderController_updateMedicalExam",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalExamDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Exam updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExam"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update medical exam",
        "tags": [
          "medical-exam-order"
        ]
      },
      "delete": {
        "description": "Soft deletes a medical exam from the catalog",
        "operationId": "MedicalExamOrderController_deleteMedicalExam",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Exam deleted successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete medical exam",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order": {
      "post": {
        "description": "Creates a new medical exam order",
        "operationId": "MedicalExamOrderController_createExamOrder",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamOrderDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Exam order created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExamOrder"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create exam order",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/{id}": {
      "get": {
        "description": "Retrieves an exam order by its ID",
        "operationId": "MedicalExamOrderController_getExamOrderById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam order ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Exam order found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExamOrder"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get exam order by ID",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/client/{commerceId}/{clientId}": {
      "get": {
        "description": "Retrieves all exam orders for a specific client",
        "operationId": "MedicalExamOrderController_getExamOrdersByClient",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of exam orders",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicalExamOrder"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get exam orders by client",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/{id}/status": {
      "patch": {
        "description": "Updates the status of an exam order",
        "operationId": "MedicalExamOrderController_updateOrderStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam order ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "scheduled",
                      "in_progress",
                      "completed",
                      "cancelled"
                    ]
                  },
                  "scheduledDate": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExamOrder"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update exam order status",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/{id}/results": {
      "post": {
        "description": "Adds results to an exam order",
        "operationId": "MedicalExamOrderController_addExamResults",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam order ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "results": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Results added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalExamOrder"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Add exam results",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/{id}/pdf": {
      "get": {
        "description": "Downloads the PDF file for an exam order",
        "operationId": "MedicalExamOrderController_downloadExamOrderPdf",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam order ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF file",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "PDF not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Download exam order PDF",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/{id}/pdf-url": {
      "get": {
        "description": "Gets a signed URL to download the exam order PDF",
        "operationId": "MedicalExamOrderController_getExamOrderPdfUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam order ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expiresIn",
            "required": false,
            "in": "query",
            "description": "URL expiration in seconds (default: 3600)",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Signed URL for PDF download",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string"
                    },
                    "expiresIn": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get exam order PDF URL",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/medical-exam-order/{id}/send-email": {
      "post": {
        "description": "Sends the exam order PDF to the specified email address",
        "operationId": "MedicalExamOrderController_sendExamOrderByEmail",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Exam Order ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "recipientEmail": {
                    "type": "string",
                    "format": "email"
                  },
                  "subject": {
                    "type": "string"
                  },
                  "message": {
                    "type": "string"
                  }
                },
                "required": [
                  "recipientEmail"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email sent successfully"
          },
          "404": {
            "description": "Exam Order not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Send exam order PDF by email",
        "tags": [
          "medical-exam-order"
        ]
      }
    },
    "/exam-result": {
      "post": {
        "operationId": "ExamResultController_createStructuredResult",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamResultDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Exam result created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResult"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create structured exam result",
        "tags": [
          "Exam Result"
        ]
      }
    },
    "/exam-result/{examOrderId}/compare/{resultId}": {
      "get": {
        "operationId": "ExamResultController_compareWithPrevious",
        "parameters": [
          {
            "name": "examOrderId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resultId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Comparison data"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Compare result with previous results",
        "tags": [
          "Exam Result"
        ]
      }
    },
    "/exam-result-template": {
      "post": {
        "operationId": "ExamResultTemplateController_createTemplate",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamResultTemplateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Template created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResultTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create exam result template",
        "tags": [
          "Exam Result Template"
        ]
      },
      "get": {
        "operationId": "ExamResultTemplateController_listTemplates",
        "parameters": [
          {
            "name": "examCode",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "businessId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activeOnly",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of templates",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExamResultTemplate"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "List exam result templates",
        "tags": [
          "Exam Result Template"
        ]
      }
    },
    "/exam-result-template/{id}": {
      "get": {
        "operationId": "ExamResultTemplateController_getTemplateById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Template found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResultTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get template by ID",
        "tags": [
          "Exam Result Template"
        ]
      },
      "put": {
        "operationId": "ExamResultTemplateController_updateTemplate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Template updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResultTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update template",
        "tags": [
          "Exam Result Template"
        ]
      },
      "delete": {
        "operationId": "ExamResultTemplateController_deleteTemplate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Template deleted"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete template",
        "tags": [
          "Exam Result Template"
        ]
      }
    },
    "/public/exam-order/verify/{id}": {
      "get": {
        "description": "Endpoint público para verificar la autenticidad de una orden de examen médico mediante su ID. No requiere autenticación.",
        "operationId": "ExamOrderVerificationController_verifyExamOrder",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la orden de examen",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Información de verificación de la orden de examen",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyExamOrderResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Orden de examen no encontrada"
          }
        },
        "summary": "Verificar orden de examen médico",
        "tags": [
          "public-verification"
        ]
      }
    },
    "/medical-exam-order/{id}/sign": {
      "post": {
        "description": "Assina uma ordem de exame usando certificado digital ICP-Brasil (PKCS#7). Após assinatura, o documento não pode ser alterado.",
        "operationId": "ExamOrderSignatureController_signExamOrder",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da ordem de exame",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "certificatePem": {
                    "type": "string",
                    "description": "Certificado em formato PEM"
                  },
                  "privateKeyPem": {
                    "type": "string",
                    "description": "Chave privada em formato PEM"
                  },
                  "password": {
                    "type": "string",
                    "description": "Senha do certificado (se necessário)"
                  }
                },
                "required": [
                  "certificatePem",
                  "privateKeyPem"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ordem de exame assinada com sucesso"
          },
          "400": {
            "description": "Ordem já assinada ou certificado inválido"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Assinar ordem de exame com certificado digital ICP-Brasil",
        "tags": [
          "exam-order-signature"
        ]
      }
    },
    "/medical-exam-order/{id}/verify-signature": {
      "post": {
        "description": "Verifica a autenticidade da assinatura digital ICP-Brasil",
        "operationId": "ExamOrderSignatureController_verifySignature",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da ordem de exame",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Resultado da verificação"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Verificar assinatura digital da ordem de exame",
        "tags": [
          "exam-order-signature"
        ]
      }
    },
    "/medical-reference": {
      "post": {
        "description": "Creates a new medical reference",
        "operationId": "MedicalReferenceController_createReference",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalReferenceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reference created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalReference"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create medical reference",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/{id}": {
      "get": {
        "description": "Retrieves a medical reference by its ID",
        "operationId": "MedicalReferenceController_getReferenceById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reference ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reference found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalReference"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get reference by ID",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/client/{commerceId}/{clientId}": {
      "get": {
        "description": "Retrieves all references for a specific client",
        "operationId": "MedicalReferenceController_getReferencesByClient",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of references",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicalReference"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get references by client",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/{id}/accept": {
      "patch": {
        "description": "Accepts a medical reference",
        "operationId": "MedicalReferenceController_acceptReference",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reference ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "response": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reference accepted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalReference"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Accept reference",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/{id}/attend": {
      "patch": {
        "description": "Marks a medical reference as attended and adds return report",
        "operationId": "MedicalReferenceController_markAsAttended",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reference ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "returnReport": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reference marked as attended successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalReference"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Mark reference as attended",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/{id}/reject": {
      "patch": {
        "description": "Rejects a medical reference",
        "operationId": "MedicalReferenceController_rejectReference",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reference ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reference rejected successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalReference"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Reject reference",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/{id}/pdf": {
      "get": {
        "description": "Downloads the PDF file for a medical reference",
        "operationId": "MedicalReferenceController_downloadReferencePdf",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reference ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF file",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "PDF not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Download medical reference PDF",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/medical-reference/{id}/pdf-url": {
      "get": {
        "description": "Gets a signed URL to download the medical reference PDF",
        "operationId": "MedicalReferenceController_getReferencePdfUrl",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reference ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "expiresIn",
            "required": false,
            "in": "query",
            "description": "URL expiration in seconds (default: 3600)",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Signed URL for PDF download",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string"
                    },
                    "expiresIn": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get medical reference PDF URL",
        "tags": [
          "medical-reference"
        ]
      }
    },
    "/public/reference/verify/{id}": {
      "get": {
        "description": "Endpoint público para verificar la autenticidad de una referencia médica mediante su ID. No requiere autenticación.",
        "operationId": "ReferenceVerificationController_verifyReference",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID de la referencia médica",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Información de verificación de la referencia médica",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyReferenceResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Referencia médica no encontrada"
          }
        },
        "summary": "Verificar referencia médica",
        "tags": [
          "public-verification"
        ]
      }
    },
    "/medical-reference/{id}/sign": {
      "post": {
        "description": "Assina uma referência médica usando certificado digital ICP-Brasil (PKCS#7). Após assinatura, o documento não pode ser alterado.",
        "operationId": "ReferenceSignatureController_signReference",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da referência médica",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "certificatePem": {
                    "type": "string",
                    "description": "Certificado em formato PEM"
                  },
                  "privateKeyPem": {
                    "type": "string",
                    "description": "Chave privada em formato PEM"
                  },
                  "password": {
                    "type": "string",
                    "description": "Senha do certificado (se necessário)"
                  }
                },
                "required": [
                  "certificatePem",
                  "privateKeyPem"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Referência médica assinada com sucesso"
          },
          "400": {
            "description": "Referência já assinada ou certificado inválido"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Assinar referência médica com certificado digital ICP-Brasil",
        "tags": [
          "reference-signature"
        ]
      }
    },
    "/medical-reference/{id}/verify-signature": {
      "post": {
        "description": "Verifica a autenticidade da assinatura digital ICP-Brasil",
        "operationId": "ReferenceSignatureController_verifySignature",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID da referência médica",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Resultado da verificação"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Verificar assinatura digital da referência médica",
        "tags": [
          "reference-signature"
        ]
      }
    },
    "/medical-template": {
      "post": {
        "description": "Creates a new template for medical records",
        "operationId": "MedicalTemplateController_createTemplate",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedicalTemplateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Template created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new medical template",
        "tags": [
          "medical-template"
        ]
      }
    },
    "/medical-template/{id}": {
      "patch": {
        "description": "Updates an existing medical template",
        "operationId": "MedicalTemplateController_updateTemplate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Template ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMedicalTemplateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Template updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update a medical template",
        "tags": [
          "medical-template"
        ]
      },
      "get": {
        "description": "Retrieves a medical template by its ID",
        "operationId": "MedicalTemplateController_getTemplateById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Template ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Template found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get template by ID",
        "tags": [
          "medical-template"
        ]
      },
      "delete": {
        "description": "Soft deletes a medical template",
        "operationId": "MedicalTemplateController_deleteTemplate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Template ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Template deleted successfully"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Delete template",
        "tags": [
          "medical-template"
        ]
      }
    },
    "/medical-template/commerce/{commerceId}/doctor/{doctorId}/search": {
      "get": {
        "description": "Searches for medical templates with filters",
        "operationId": "MedicalTemplateController_searchTemplates",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "doctorId",
            "required": true,
            "in": "path",
            "description": "Doctor ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "searchTerm",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "diagnostic",
                "anamnesis",
                "evolution",
                "prescription",
                "exam_order",
                "reference",
                "general"
              ]
            }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "scope",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "personal",
                "commerce",
                "global"
              ]
            }
          },
          {
            "name": "tag",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "favoritesOnly",
            "required": false,
            "in": "query",
            "schema": {
              "default": false,
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "default": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of templates"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Search templates",
        "tags": [
          "medical-template"
        ]
      }
    },
    "/medical-template/process": {
      "post": {
        "description": "Processes a template by replacing variables with values",
        "operationId": "MedicalTemplateController_processTemplate",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProcessTemplateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Template processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "processedContent": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Process template",
        "tags": [
          "medical-template"
        ]
      }
    },
    "/medical-template/{id}/favorite": {
      "post": {
        "description": "Marks or unmarks a template as favorite",
        "operationId": "MedicalTemplateController_toggleFavorite",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Template ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Favorite status toggled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MedicalTemplate"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Toggle favorite",
        "tags": [
          "medical-template"
        ]
      }
    },
    "/medical-template/commerce/{commerceId}/doctor/{doctorId}/most-used": {
      "get": {
        "description": "Retrieves the most frequently used templates",
        "operationId": "MedicalTemplateController_getMostUsedTemplates",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "doctorId",
            "required": true,
            "in": "path",
            "description": "Doctor ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of templates to return",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of most used templates",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MedicalTemplate"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get most used templates",
        "tags": [
          "medical-template"
        ]
      }
    },
    "/hl7/receive": {
      "post": {
        "description": "Receives and processes HL7 messages from laboratories (ORU^R01). Requires API Key in X-API-Key header.",
        "operationId": "HL7Controller_receiveMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReceiveHL7MessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HL7MessageResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid HL7 message format"
          },
          "401": {
            "description": "Invalid or missing API Key"
          },
          "404": {
            "description": "Matching exam order not found"
          }
        },
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "summary": "Receive HL7 message",
        "tags": [
          "HL7"
        ]
      }
    },
    "/hl7/test": {
      "post": {
        "description": "Test endpoint to verify HL7 message parsing without processing",
        "operationId": "HL7Controller_testMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReceiveHL7MessageDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Test HL7 message parsing",
        "tags": [
          "HL7"
        ]
      }
    },
    "/laboratory": {
      "post": {
        "operationId": "LaboratoryController_createLaboratory",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLaboratoryDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Laboratory created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Laboratory"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create laboratory",
        "tags": [
          "Laboratory"
        ]
      },
      "get": {
        "operationId": "LaboratoryController_listLaboratories",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "businessId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "activeOnly",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of laboratories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Laboratory"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "List laboratories",
        "tags": [
          "Laboratory"
        ]
      }
    },
    "/laboratory/{id}": {
      "get": {
        "operationId": "LaboratoryController_getLaboratoryById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Laboratory found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Laboratory"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get laboratory by ID",
        "tags": [
          "Laboratory"
        ]
      },
      "put": {
        "operationId": "LaboratoryController_updateLaboratory",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Laboratory updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Laboratory"
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update laboratory",
        "tags": [
          "Laboratory"
        ]
      }
    },
    "/form/{id}": {
      "get": {
        "description": "Retrieves a form by its unique identifier",
        "operationId": "FormController_getFormById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Form ID",
            "schema": {
              "example": "form-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Form found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Form"
                }
              }
            }
          },
          "404": {
            "description": "Form not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get form by ID",
        "tags": [
          "form"
        ]
      }
    },
    "/form": {
      "get": {
        "description": "Retrieves a list of all forms",
        "operationId": "FormController_getForms",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Form"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all forms",
        "tags": [
          "form"
        ]
      },
      "post": {
        "description": "Creates a new form response",
        "operationId": "FormController_createForm",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "attentionId": {
                    "type": "string",
                    "example": "attention-123"
                  },
                  "personalizedId": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "example": "MEDICAL"
                  },
                  "bookingId": {
                    "type": "string"
                  },
                  "commerceId": {
                    "type": "string",
                    "example": "commerce-123"
                  },
                  "queueId": {
                    "type": "string"
                  },
                  "clientId": {
                    "type": "string",
                    "example": "client-123"
                  },
                  "questions": {
                    "type": "array"
                  },
                  "answers": {
                    "type": "array"
                  }
                },
                "required": [
                  "commerceId",
                  "clientId",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Form created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Form"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new form",
        "tags": [
          "form"
        ]
      }
    },
    "/form/commerceId/{commerceId}/clientId/{clientId}": {
      "get": {
        "description": "Retrieves all forms for a specific client",
        "operationId": "FormController_getFormsByClient",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Form"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get forms by client",
        "tags": [
          "form"
        ]
      }
    },
    "/form/commerceId/{commerceId}/clientId/{clientId}/type/{type}": {
      "get": {
        "description": "Retrieves forms for a client filtered by type",
        "operationId": "FormController_getFormsByClientAndType",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Form type",
            "schema": {
              "example": "MEDICAL"
            }
          },
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Form"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get forms by client and type",
        "tags": [
          "form"
        ]
      }
    },
    "/form/preprontuario/status/{commerceId}/{clientId}": {
      "get": {
        "description": "Checks if client has completed preprontuario for the commerce",
        "operationId": "FormController_getPreprontuarioStatus",
        "parameters": [
          {
            "name": "clientId",
            "required": true,
            "in": "path",
            "description": "Client ID",
            "schema": {
              "example": "client-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Preprontuario status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "completed": {
                      "type": "boolean"
                    },
                    "completedAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "formId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Check preprontuario completion status",
        "tags": [
          "form"
        ]
      }
    },
    "/form/{id}/load-to-prontuario": {
      "patch": {
        "description": "Marks a form as having been loaded into the patient prontuario",
        "operationId": "FormController_markAsLoadedToProntuario",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Form ID",
            "schema": {
              "example": "form-123",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "example": "user-123"
                  }
                },
                "required": [
                  "userId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Form marked as loaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Form"
                }
              }
            }
          },
          "404": {
            "description": "Form not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Mark form as loaded to prontuario",
        "tags": [
          "form"
        ]
      }
    },
    "/form-personalized/{id}": {
      "get": {
        "description": "Retrieves a personalized form template by its unique identifier",
        "operationId": "FormPersonalizedController_getFormPersonalizedById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Form personalized ID",
            "schema": {
              "example": "form-personalized-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Form personalized found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FormPersonalized"
                }
              }
            }
          },
          "404": {
            "description": "Form personalized not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized form by ID",
        "tags": [
          "form-personalized"
        ]
      },
      "patch": {
        "description": "Updates a personalized form template",
        "operationId": "FormPersonalizedController_updateFormPersonalized",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Form personalized ID",
            "schema": {
              "example": "form-personalized-123"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FormPersonalized"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Personalized form updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FormPersonalized"
                }
              }
            }
          },
          "404": {
            "description": "Form personalized not found"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Update personalized form",
        "tags": [
          "form-personalized"
        ]
      }
    },
    "/form-personalized": {
      "get": {
        "description": "Retrieves a list of all personalized form templates",
        "operationId": "FormPersonalizedController_getFormsPersonalized",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of personalized forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FormPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get all personalized forms",
        "tags": [
          "form-personalized"
        ]
      },
      "post": {
        "description": "Creates a new personalized form template",
        "operationId": "FormPersonalizedController_createFormPersonalized",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "commerceId": {
                    "type": "string",
                    "example": "commerce-123"
                  },
                  "type": {
                    "type": "string",
                    "example": "MEDICAL"
                  },
                  "questions": {
                    "type": "array"
                  },
                  "queueId": {
                    "type": "string"
                  },
                  "servicesId": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "commerceId",
                  "type",
                  "questions"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Personalized form created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FormPersonalized"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Create a new personalized form",
        "tags": [
          "form-personalized"
        ]
      }
    },
    "/form-personalized/commerceId/{commerceId}": {
      "get": {
        "description": "Retrieves all personalized forms for a specific commerce",
        "operationId": "FormPersonalizedController_getFormsPersonalizedByCommerceId",
        "parameters": [
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of personalized forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FormPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized forms by commerce",
        "tags": [
          "form-personalized"
        ]
      }
    },
    "/form-personalized/commerceId/{commerceId}/queueId/{queueId}": {
      "get": {
        "description": "Retrieves personalized forms for a specific queue",
        "operationId": "FormPersonalizedController_getFormsPersonalizedByQueueId",
        "parameters": [
          {
            "name": "queueId",
            "required": true,
            "in": "path",
            "description": "Queue ID",
            "schema": {
              "example": "queue-123"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of personalized forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FormPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized forms by queue",
        "tags": [
          "form-personalized"
        ]
      }
    },
    "/form-personalized/commerceId/{commerceId}/type/{type}": {
      "get": {
        "description": "Retrieves personalized forms filtered by commerce and type",
        "operationId": "FormPersonalizedController_getFormsPersonalizedByCommerceIdAndType",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Form type",
            "schema": {
              "example": "MEDICAL"
            }
          },
          {
            "name": "commerceId",
            "required": true,
            "in": "path",
            "description": "Commerce ID",
            "schema": {
              "example": "commerce-123"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of personalized forms",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FormPersonalized"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Get personalized forms by commerce and type",
        "tags": [
          "form-personalized"
        ]
      }
    },
    "/data-retention/check": {
      "get": {
        "description": "Retorna contagem de documentos que estão próximos ou passaram do prazo de retenção",
        "operationId": "DataRetentionController_checkRetention",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Contagem de documentos para arquivamento"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Verificar documentos que precisam ser arquivados",
        "tags": [
          "data-retention"
        ]
      }
    },
    "/data-retention/archive": {
      "post": {
        "description": "Executa o processo de arquivamento de documentos que passaram do prazo de retenção",
        "operationId": "DataRetentionController_archiveOldDocuments",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Arquivamento concluído"
          }
        },
        "security": [
          {
            "JWT-auth": []
          }
        ],
        "summary": "Arquivar documentos antigos manualmente",
        "tags": [
          "data-retention"
        ]
      }
    }
  },
  "info": {
    "title": "ESV Backend API",
    "description": "API documentation for ESV Backend - Appointment and Queue Management System",
    "version": "1.0",
    "contact": {}
  },
  "tags": [
    {
      "name": "booking",
      "description": "Booking management endpoints"
    },
    {
      "name": "commerce",
      "description": "Commerce management endpoints"
    },
    {
      "name": "queue",
      "description": "Queue management endpoints"
    },
    {
      "name": "user",
      "description": "User management endpoints"
    },
    {
      "name": "client",
      "description": "Client management endpoints"
    },
    {
      "name": "attention",
      "description": "Attention management endpoints"
    },
    {
      "name": "waitlist",
      "description": "Waitlist management endpoints"
    },
    {
      "name": "notification",
      "description": "Notification endpoints"
    },
    {
      "name": "business",
      "description": "Business management endpoints"
    },
    {
      "name": "service",
      "description": "Service management endpoints"
    },
    {
      "name": "payment",
      "description": "Payment processing endpoints"
    },
    {
      "name": "plan",
      "description": "Plan management endpoints"
    },
    {
      "name": "survey",
      "description": "Survey management endpoints"
    },
    {
      "name": "health",
      "description": "Health check endpoints"
    },
    {
      "name": "rol",
      "description": "Role management endpoints"
    },
    {
      "name": "feature-toggle",
      "description": "Feature toggle management endpoints"
    },
    {
      "name": "administrator",
      "description": "Administrator management endpoints"
    },
    {
      "name": "collaborator",
      "description": "Collaborator management endpoints"
    },
    {
      "name": "partner",
      "description": "Partner management endpoints"
    },
    {
      "name": "income",
      "description": "Income management endpoints"
    },
    {
      "name": "package",
      "description": "Package management endpoints"
    },
    {
      "name": "form",
      "description": "Form management endpoints"
    },
    {
      "name": "feature",
      "description": "Feature management endpoints"
    },
    {
      "name": "module",
      "description": "Module management endpoints"
    },
    {
      "name": "product",
      "description": "Product management endpoints"
    },
    {
      "name": "company",
      "description": "Company management endpoints"
    },
    {
      "name": "block",
      "description": "Block management endpoints"
    },
    {
      "name": "message",
      "description": "Message management endpoints"
    },
    {
      "name": "documents",
      "description": "Document management endpoints"
    },
    {
      "name": "outcome",
      "description": "Outcome management endpoints"
    },
    {
      "name": "outcome-type",
      "description": "Outcome type management endpoints"
    },
    {
      "name": "form-personalized",
      "description": "Personalized form management endpoints"
    },
    {
      "name": "patient-history",
      "description": "Patient history management endpoints"
    },
    {
      "name": "patient-history-item",
      "description": "Patient history item management endpoints"
    },
    {
      "name": "plan-activation",
      "description": "Plan activation management endpoints"
    },
    {
      "name": "survey-personalized",
      "description": "Personalized survey management endpoints"
    },
    {
      "name": "suggestion",
      "description": "Suggestion management endpoints"
    },
    {
      "name": "app",
      "description": "Application root endpoints"
    }
  ],
  "servers": [
    {
      "url": "https://app.easuavez.com",
      "description": "Default server"
    }
  ],
  "components": {
    "securitySchemes": {
      "JWT-auth": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http",
        "name": "JWT",
        "description": "Enter JWT token",
        "in": "header"
      }
    },
    "schemas": {
      "Business": {
        "type": "object",
        "properties": {}
      },
      "BusinessKeyNameDetailsDto": {
        "type": "object",
        "properties": {}
      },
      "WhatsappConnection": {
        "type": "object",
        "properties": {}
      },
      "Commerce": {
        "type": "object",
        "properties": {}
      },
      "CommerceKeyNameDetailsDto": {
        "type": "object",
        "properties": {}
      },
      "Queue": {
        "type": "object",
        "properties": {}
      },
      "Collaborator": {
        "type": "object",
        "properties": {}
      },
      "CollaboratorDetailsDto": {
        "type": "object",
        "properties": {}
      },
      "CreateAssociatedProfessionalDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "STANDARD",
              "ASSISTANT",
              "FULL",
              "RECEPTIONIST",
              "SECRETARY",
              "ADMINISTRATOR",
              "STYLIST",
              "BARBER",
              "MANICURIST",
              "ESTHETICIAN",
              "MASSEUR",
              "DOCTOR",
              "SPECIALIST",
              "NURSE",
              "MEDICAL_ASSISTANT",
              "DENTIST",
              "PHYSIOTHERAPIST",
              "THERAPIST",
              "PSYCHOLOGIST",
              "NUTRITIONIST",
              "PHARMACIST",
              "TECHNICIAN",
              "OTHER"
            ],
            "description": "Rol profesional (si no se especifica, se toma del colaborador)"
          },
          "specialties": {
            "description": "Especialidades del profesional",
            "example": [
              "Corte",
              "Color",
              "Peinado"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "servicesId": {
            "description": "IDs de servicios que puede realizar (si no se especifica, se toma del colaborador)",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "license": {
            "type": "string",
            "description": "Licencia o matrícula profesional",
            "example": "CRM-12345"
          },
          "licenseType": {
            "type": "string",
            "description": "Tipo de licencia",
            "example": "CRM"
          },
          "licenseState": {
            "type": "string",
            "description": "Estado de la licencia",
            "example": "SP"
          },
          "commissionType": {
            "type": "string",
            "enum": [
              "PERCENTAGE",
              "FIXED"
            ],
            "description": "Tipo de comisión: PERCENTAGE o FIXED"
          },
          "commissionValue": {
            "type": "number",
            "description": "Valor de comisión (% o monto fijo)",
            "example": 30
          },
          "paymentAccount": {
            "type": "object",
            "description": "Datos de cuenta bancaria para pagos",
            "example": {
              "bank": "Banco do Brasil",
              "accountNumber": "12345-6",
              "accountType": "Corrente",
              "pixKey": "email@example.com",
              "holder": "João Silva"
            }
          },
          "medicalData": {
            "type": "object",
            "description": "Datos médicos específicos (para profesionales de salud)"
          },
          "crm": {
            "type": "string",
            "description": "Número de registro médico (CRM, CRO, etc.)",
            "example": "CRM-123456"
          },
          "crmState": {
            "type": "string",
            "description": "Estado/provincia del CRM",
            "example": "SP"
          },
          "professionalTitle": {
            "type": "string",
            "description": "Título profesional (Dr., Dra., Enf., etc.)",
            "example": "Dr."
          },
          "department": {
            "type": "string",
            "description": "Departamento o área de trabajo",
            "example": "Cardiología"
          },
          "position": {
            "type": "string",
            "description": "Cargo específico",
            "example": "Médico Senior"
          },
          "workEmail": {
            "type": "string",
            "description": "Email de trabajo (diferente al personal)",
            "example": "trabajo@clinica.com"
          },
          "emergencyContact": {
            "type": "string",
            "description": "Contacto de emergencia",
            "example": "+55 11 98765-4321"
          },
          "canSignDocuments": {
            "type": "boolean",
            "description": "Puede firmar documentos profesionales",
            "default": false
          },
          "documentSignatureText": {
            "type": "string",
            "description": "Texto personalizado para firma en documentos",
            "example": "Dr. João Silva - CRM 12345"
          },
          "available": {
            "type": "boolean",
            "description": "Disponible para ser asignado",
            "default": true
          }
        }
      },
      "Administrator": {
        "type": "object",
        "properties": {}
      },
      "FeatureToggle": {
        "type": "object",
        "properties": {}
      },
      "FeatureToggleOption": {
        "type": "object",
        "properties": {}
      },
      "SurveyPersonalized": {
        "type": "object",
        "properties": {}
      },
      "Notification": {
        "type": "object",
        "properties": {}
      },
      "Plan": {
        "type": "object",
        "properties": {}
      },
      "Rol": {
        "type": "object",
        "properties": {}
      },
      "PlanActivation": {
        "type": "object",
        "properties": {}
      },
      "Payment": {
        "type": "object",
        "properties": {}
      },
      "SendSystemNotificationDto": {
        "type": "object",
        "properties": {}
      },
      "InternalMessage": {
        "type": "object",
        "properties": {}
      },
      "SendMessageDto": {
        "type": "object",
        "properties": {}
      },
      "BulkReadDto": {
        "type": "object",
        "properties": {}
      },
      "CreateConversationDto": {
        "type": "object",
        "properties": {}
      },
      "SendMassMessageDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": [
              "direct_message",
              "announcement",
              "attention_reminder",
              "booking_reminder",
              "booking_confirmed",
              "booking_cancelled",
              "stock",
              "low_stock",
              "out_of_stock",
              "payment_received",
              "payment_pending",
              "payment_overdue",
              "plan_expiring",
              "plan_expired",
              "plan_upgraded",
              "survey_pending",
              "document_available",
              "form_pending",
              "system_update",
              "feature_announcement",
              "maintenance",
              "task_assigned",
              "task_completed",
              "task_overdue"
            ],
            "default": "announcement"
          },
          "priority": {
            "type": "string",
            "enum": [
              "critical",
              "high",
              "normal",
              "low"
            ],
            "default": "normal"
          },
          "targetUserTypes": {
            "description": "Target user types",
            "type": "array",
            "items": {
              "type": "array"
            }
          },
          "targetBusinessIds": {
            "description": "Target business IDs (empty = all businesses)",
            "type": "array",
            "items": {
              "type": "array"
            }
          },
          "targetCommerceIds": {
            "description": "Target commerce IDs (empty = all commerces)",
            "type": "array",
            "items": {
              "type": "array"
            }
          },
          "actionLink": {
            "type": "string"
          },
          "actionLabel": {
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "title",
          "content",
          "targetUserTypes"
        ]
      },
      "CreateCrossBusinessConversationDto": {
        "type": "object",
        "properties": {
          "recipientId": {
            "type": "string",
            "description": "Target user ID (admin or collaborator from any business)"
          },
          "recipientType": {
            "type": "string",
            "description": "Target user type"
          },
          "targetBusinessId": {
            "type": "string",
            "description": "Target business ID"
          },
          "targetCommerceId": {
            "type": "string",
            "description": "Target commerce ID"
          },
          "initialMessage": {
            "type": "string",
            "description": "Initial message content"
          }
        },
        "required": [
          "recipientId",
          "recipientType"
        ]
      },
      "Service": {
        "type": "object",
        "properties": {}
      },
      "Professional": {
        "type": "object",
        "properties": {}
      },
      "PersonalInfoDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nombre completo del profesional"
          },
          "idNumber": {
            "type": "string",
            "description": "Número de identificación (DNI, RUT, CPF)"
          },
          "idType": {
            "type": "string",
            "description": "Tipo de documento"
          },
          "email": {
            "type": "string",
            "description": "Email del profesional"
          },
          "phone": {
            "type": "string",
            "description": "Teléfono del profesional"
          },
          "profilePhoto": {
            "type": "string",
            "description": "URL de la foto de perfil"
          },
          "digitalSignature": {
            "type": "string",
            "description": "URL o base64 de la firma digital"
          },
          "notes": {
            "type": "string",
            "description": "Notas adicionales"
          }
        },
        "required": [
          "name",
          "idNumber",
          "email",
          "phone"
        ]
      },
      "ProfessionalInfoDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "STANDARD",
              "ASSISTANT",
              "FULL",
              "RECEPTIONIST",
              "SECRETARY",
              "ADMINISTRATOR",
              "STYLIST",
              "BARBER",
              "MANICURIST",
              "ESTHETICIAN",
              "MASSEUR",
              "DOCTOR",
              "SPECIALIST",
              "NURSE",
              "MEDICAL_ASSISTANT",
              "DENTIST",
              "PHYSIOTHERAPIST",
              "THERAPIST",
              "PSYCHOLOGIST",
              "NUTRITIONIST",
              "PHARMACIST",
              "TECHNICIAN",
              "OTHER"
            ],
            "description": "Rol del profesional (unificado)"
          },
          "professionalType": {
            "type": "string",
            "enum": [
              "STANDARD",
              "ASSISTANT",
              "FULL",
              "RECEPTIONIST",
              "SECRETARY",
              "ADMINISTRATOR",
              "STYLIST",
              "BARBER",
              "MANICURIST",
              "ESTHETICIAN",
              "MASSEUR",
              "DOCTOR",
              "SPECIALIST",
              "NURSE",
              "MEDICAL_ASSISTANT",
              "DENTIST",
              "PHYSIOTHERAPIST",
              "THERAPIST",
              "PSYCHOLOGIST",
              "NUTRITIONIST",
              "PHARMACIST",
              "TECHNICIAN",
              "OTHER"
            ],
            "description": "Tipo de profesional (compatibilidad)"
          },
          "specialties": {
            "description": "Especialidades",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "servicesId": {
            "description": "IDs de servicios que puede realizar",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "license": {
            "type": "string",
            "description": "Licencia o matrícula profesional"
          },
          "licenseType": {
            "type": "string",
            "description": "Tipo de licencia"
          },
          "licenseState": {
            "type": "string",
            "description": "Estado de la licencia"
          }
        },
        "required": [
          "role"
        ]
      },
      "PaymentAccountDto": {
        "type": "object",
        "properties": {
          "bank": {
            "type": "string",
            "description": "Banco"
          },
          "accountNumber": {
            "type": "string",
            "description": "Número de cuenta"
          },
          "accountType": {
            "type": "string",
            "description": "Tipo de cuenta"
          },
          "pixKey": {
            "type": "string",
            "description": "Clave PIX (Brasil)"
          },
          "holder": {
            "type": "string",
            "description": "Titular de la cuenta"
          }
        }
      },
      "FinancialInfoDto": {
        "type": "object",
        "properties": {
          "commissionType": {
            "type": "string",
            "enum": [
              "PERCENTAGE",
              "FIXED"
            ],
            "description": "Tipo de comisión"
          },
          "commissionValue": {
            "type": "number",
            "description": "Valor de comisión (% o monto fijo)"
          },
          "paymentAccount": {
            "description": "Datos de cuenta bancaria",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentAccountDto"
              }
            ]
          }
        }
      },
      "CreateProfessionalDto": {
        "type": "object",
        "properties": {
          "businessId": {
            "type": "string",
            "description": "ID del business"
          },
          "commerceId": {
            "type": "string",
            "description": "ID del commerce específico"
          },
          "commercesId": {
            "description": "IDs de commerces donde puede trabajar",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "personalInfo": {
            "description": "Información personal",
            "allOf": [
              {
                "$ref": "#/components/schemas/PersonalInfoDto"
              }
            ]
          },
          "professionalInfo": {
            "description": "Información profesional",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProfessionalInfoDto"
              }
            ]
          },
          "financialInfo": {
            "description": "Información financiera",
            "allOf": [
              {
                "$ref": "#/components/schemas/FinancialInfoDto"
              }
            ]
          },
          "isCollaborator": {
            "type": "boolean",
            "description": "Indica si tiene Collaborator asociado",
            "default": false
          },
          "collaboratorId": {
            "type": "string",
            "description": "ID del Collaborator asociado"
          },
          "medicalData": {
            "type": "object",
            "description": "Datos médicos específicos"
          },
          "crm": {
            "type": "string",
            "description": "Número de registro médico (CRM, CRO, etc.)"
          },
          "crmState": {
            "type": "string",
            "description": "Estado/provincia del CRM"
          },
          "professionalTitle": {
            "type": "string",
            "description": "Título profesional (Dr., Dra., Enf., etc.)"
          },
          "department": {
            "type": "string",
            "description": "Departamento o área de trabajo"
          },
          "position": {
            "type": "string",
            "description": "Cargo específico"
          },
          "workEmail": {
            "type": "string",
            "description": "Email de trabajo"
          },
          "emergencyContact": {
            "type": "string",
            "description": "Contacto de emergencia"
          },
          "canSignDocuments": {
            "type": "boolean",
            "description": "Puede firmar documentos profesionales",
            "default": false
          },
          "documentSignatureText": {
            "type": "string",
            "description": "Texto personalizado para firma en documentos"
          },
          "active": {
            "type": "boolean",
            "description": "Estado activo",
            "default": true
          },
          "available": {
            "type": "boolean",
            "description": "Disponible para asignación",
            "default": true
          }
        },
        "required": [
          "businessId",
          "personalInfo",
          "professionalInfo"
        ]
      },
      "PersonalInfoUpdateDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nombre completo del profesional"
          },
          "idNumber": {
            "type": "string",
            "description": "Número de identificación"
          },
          "idType": {
            "type": "string",
            "description": "Tipo de documento"
          },
          "email": {
            "type": "string",
            "description": "Email del profesional"
          },
          "phone": {
            "type": "string",
            "description": "Teléfono del profesional"
          },
          "profilePhoto": {
            "type": "string",
            "description": "URL de la foto de perfil"
          },
          "digitalSignature": {
            "type": "string",
            "description": "URL o base64 de la firma digital"
          },
          "notes": {
            "type": "string",
            "description": "Notas adicionales"
          }
        }
      },
      "ProfessionalInfoUpdateDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "STANDARD",
              "ASSISTANT",
              "FULL",
              "RECEPTIONIST",
              "SECRETARY",
              "ADMINISTRATOR",
              "STYLIST",
              "BARBER",
              "MANICURIST",
              "ESTHETICIAN",
              "MASSEUR",
              "DOCTOR",
              "SPECIALIST",
              "NURSE",
              "MEDICAL_ASSISTANT",
              "DENTIST",
              "PHYSIOTHERAPIST",
              "THERAPIST",
              "PSYCHOLOGIST",
              "NUTRITIONIST",
              "PHARMACIST",
              "TECHNICIAN",
              "OTHER"
            ],
            "description": "Rol del profesional (unificado)"
          },
          "professionalType": {
            "type": "string",
            "enum": [
              "STANDARD",
              "ASSISTANT",
              "FULL",
              "RECEPTIONIST",
              "SECRETARY",
              "ADMINISTRATOR",
              "STYLIST",
              "BARBER",
              "MANICURIST",
              "ESTHETICIAN",
              "MASSEUR",
              "DOCTOR",
              "SPECIALIST",
              "NURSE",
              "MEDICAL_ASSISTANT",
              "DENTIST",
              "PHYSIOTHERAPIST",
              "THERAPIST",
              "PSYCHOLOGIST",
              "NUTRITIONIST",
              "PHARMACIST",
              "TECHNICIAN",
              "OTHER"
            ],
            "description": "Tipo de profesional (compatibilidad)"
          },
          "specialties": {
            "description": "Especialidades",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "servicesId": {
            "description": "IDs de servicios que puede realizar",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "license": {
            "type": "string",
            "description": "Licencia o matrícula profesional"
          },
          "licenseType": {
            "type": "string",
            "description": "Tipo de licencia"
          },
          "licenseState": {
            "type": "string",
            "description": "Estado de la licencia"
          }
        }
      },
      "PaymentAccountUpdateDto": {
        "type": "object",
        "properties": {
          "bank": {
            "type": "string",
            "description": "Banco"
          },
          "accountNumber": {
            "type": "string",
            "description": "Número de cuenta"
          },
          "accountType": {
            "type": "string",
            "description": "Tipo de cuenta"
          },
          "pixKey": {
            "type": "string",
            "description": "Clave PIX (Brasil)"
          },
          "holder": {
            "type": "string",
            "description": "Titular de la cuenta"
          }
        }
      },
      "FinancialInfoUpdateDto": {
        "type": "object",
        "properties": {
          "commissionType": {
            "type": "string",
            "enum": [
              "PERCENTAGE",
              "FIXED"
            ],
            "description": "Tipo de comisión"
          },
          "commissionValue": {
            "type": "number",
            "description": "Valor de comisión (% o monto fijo)"
          },
          "paymentAccount": {
            "description": "Datos de cuenta bancaria",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaymentAccountUpdateDto"
              }
            ]
          }
        }
      },
      "UpdateProfessionalDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "ID del commerce específico"
          },
          "commercesId": {
            "description": "IDs de commerces donde puede trabajar",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "personalInfo": {
            "description": "Información personal",
            "allOf": [
              {
                "$ref": "#/components/schemas/PersonalInfoUpdateDto"
              }
            ]
          },
          "professionalInfo": {
            "description": "Información profesional",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProfessionalInfoUpdateDto"
              }
            ]
          },
          "financialInfo": {
            "description": "Información financiera",
            "allOf": [
              {
                "$ref": "#/components/schemas/FinancialInfoUpdateDto"
              }
            ]
          },
          "isCollaborator": {
            "type": "boolean",
            "description": "Indica si tiene Collaborator asociado"
          },
          "collaboratorId": {
            "type": "string",
            "description": "ID del Collaborator asociado"
          },
          "medicalData": {
            "type": "object",
            "description": "Datos médicos específicos"
          },
          "active": {
            "type": "boolean",
            "description": "Estado activo"
          },
          "available": {
            "type": "boolean",
            "description": "Disponible para asignación"
          }
        }
      },
      "Attention": {
        "type": "object",
        "properties": {}
      },
      "AttentionDetailsDto": {
        "type": "object",
        "properties": {}
      },
      "CommerceLogo": {
        "type": "object",
        "properties": {}
      },
      "User": {
        "type": "object",
        "properties": {}
      },
      "Client": {
        "type": "object",
        "properties": {}
      },
      "ClientSearchDto": {
        "type": "object",
        "properties": {}
      },
      "ClientContact": {
        "type": "object",
        "properties": {}
      },
      "ConsentRequest": {
        "type": "object",
        "properties": {}
      },
      "ConsentRequirement": {
        "type": "object",
        "properties": {}
      },
      "LgpdConsent": {
        "type": "object",
        "properties": {}
      },
      "LgpdIncident": {
        "type": "object",
        "properties": {}
      },
      "AuditLog": {
        "type": "object",
        "properties": {}
      },
      "Module": {
        "type": "object",
        "properties": {}
      },
      "Package": {
        "type": "object",
        "properties": {}
      },
      "Income": {
        "type": "object",
        "properties": {}
      },
      "DocumentOption": {
        "type": "object",
        "properties": {}
      },
      "Document": {
        "type": "object",
        "properties": {}
      },
      "UploadDocumentsInputsDto": {
        "type": "object",
        "properties": {}
      },
      "DocumentSearchDto": {
        "type": "object",
        "properties": {}
      },
      "CreateTelemedicineSessionDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "ID del comercio"
          },
          "clientId": {
            "type": "string",
            "description": "ID del paciente"
          },
          "doctorId": {
            "type": "string",
            "description": "ID del médico"
          },
          "attentionId": {
            "type": "string",
            "description": "ID de la atención (si existe)"
          },
          "patientHistoryId": {
            "type": "string",
            "description": "ID del historial médico"
          },
          "type": {
            "type": "string",
            "description": "Tipo de sesión",
            "enum": [
              "video",
              "chat",
              "both"
            ],
            "default": "both"
          },
          "scheduledAt": {
            "format": "date-time",
            "type": "string",
            "description": "Fecha y hora programada"
          },
          "recordingEnabled": {
            "type": "boolean",
            "description": "Habilitar grabación",
            "default": false
          },
          "notes": {
            "type": "string",
            "description": "Notas previas",
            "maxLength": 5000
          }
        },
        "required": [
          "commerceId",
          "clientId",
          "doctorId",
          "type",
          "scheduledAt"
        ]
      },
      "TelemedicineSession": {
        "type": "object",
        "properties": {}
      },
      "TelemedicineMessage": {
        "type": "object",
        "properties": {}
      },
      "Booking": {
        "type": "object",
        "properties": {}
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID"
          },
          "name": {
            "type": "string",
            "description": "User name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "User last name",
            "example": "Doe"
          },
          "email": {
            "type": "string",
            "description": "User email",
            "example": "john@example.com"
          },
          "phone": {
            "type": "string",
            "description": "User phone",
            "example": "+56912345678"
          },
          "idNumber": {
            "type": "string",
            "description": "User ID number"
          },
          "acceptTermsAndConditions": {
            "type": "boolean",
            "description": "Accept terms and conditions",
            "example": true
          },
          "notificationOn": {
            "type": "boolean",
            "description": "Notification enabled",
            "example": true
          },
          "notificationEmailOn": {
            "type": "boolean",
            "description": "Email notification enabled",
            "example": true
          },
          "personalInfo": {
            "type": "object",
            "description": "Personal information",
            "additionalProperties": true
          }
        },
        "required": [
          "name",
          "acceptTermsAndConditions"
        ]
      },
      "BlockDto": {
        "type": "object",
        "properties": {
          "number": {
            "type": "number",
            "description": "Block number",
            "example": 1
          },
          "hourFrom": {
            "type": "string",
            "description": "Start hour",
            "example": "09:00"
          },
          "hourTo": {
            "type": "string",
            "description": "End hour",
            "example": "10:00"
          },
          "blocks": {
            "description": "Nested blocks",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BlockDto"
            }
          },
          "blockNumbers": {
            "description": "Block numbers",
            "type": "array",
            "items": {
              "type": "number"
            }
          }
        },
        "required": [
          "number",
          "hourFrom",
          "hourTo"
        ]
      },
      "CreateBookingDto": {
        "type": "object",
        "properties": {
          "queueId": {
            "type": "string",
            "description": "Queue ID",
            "example": "queue-123"
          },
          "channel": {
            "type": "string",
            "description": "Booking channel",
            "enum": [
              "QR",
              "MINISITE",
              "TELEMEDICINE"
            ],
            "default": "QR"
          },
          "date": {
            "type": "string",
            "description": "Booking date (YYYY-MM-DD)",
            "example": "2024-01-15"
          },
          "user": {
            "description": "User information",
            "allOf": [
              {
                "$ref": "#/components/schemas/UserDto"
              }
            ]
          },
          "block": {
            "description": "Time block information",
            "allOf": [
              {
                "$ref": "#/components/schemas/BlockDto"
              }
            ]
          },
          "status": {
            "type": "string",
            "description": "Booking status",
            "enum": [
              "PENDING",
              "CONFIRMED",
              "PROCESSED",
              "RESERVE_CANCELLED",
              "CANCELLED"
            ],
            "default": "PENDING"
          },
          "servicesId": {
            "description": "Service IDs",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "servicesDetails": {
            "type": "array",
            "description": "Service details"
          },
          "clientId": {
            "type": "string",
            "description": "Client ID"
          },
          "sessionId": {
            "type": "string",
            "description": "Session ID for block reservation"
          },
          "type": {
            "type": "string",
            "description": "Booking type",
            "example": "TELEMEDICINE"
          },
          "telemedicineConfig": {
            "type": "object",
            "description": "Telemedicine configuration",
            "example": {
              "type": "VIDEO",
              "scheduledAt": "2024-01-15T10:00:00Z",
              "recordingEnabled": false,
              "notes": "Optional notes"
            }
          }
        },
        "required": [
          "queueId",
          "date"
        ]
      },
      "Block": {
        "type": "object",
        "properties": {}
      },
      "BookingDetailsDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Booking ID"
          },
          "commerceId": {
            "type": "string",
            "description": "Commerce ID"
          },
          "queueId": {
            "type": "string",
            "description": "Queue ID"
          },
          "number": {
            "type": "number",
            "description": "Booking number",
            "example": 1
          },
          "date": {
            "type": "string",
            "description": "Booking date",
            "example": "2024-01-15"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation date"
          },
          "type": {
            "type": "string",
            "description": "Booking type"
          },
          "channel": {
            "type": "string",
            "description": "Booking channel"
          },
          "status": {
            "type": "string",
            "description": "Booking status"
          },
          "userId": {
            "type": "string",
            "description": "User ID"
          },
          "comment": {
            "type": "string",
            "description": "Comment"
          },
          "processedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Processing date"
          },
          "processed": {
            "type": "boolean",
            "description": "Is processed",
            "example": false
          },
          "cancelledAt": {
            "format": "date-time",
            "type": "string",
            "description": "Cancellation date"
          },
          "cancelled": {
            "type": "boolean",
            "description": "Is cancelled",
            "example": false
          },
          "attentionId": {
            "type": "string",
            "description": "Attention ID"
          },
          "beforeYou": {
            "type": "number",
            "description": "Number of bookings before this one",
            "example": 5
          },
          "user": {
            "description": "User information",
            "allOf": [
              {
                "$ref": "#/components/schemas/User"
              }
            ]
          },
          "commerce": {
            "description": "Commerce information",
            "allOf": [
              {
                "$ref": "#/components/schemas/Commerce"
              }
            ]
          },
          "queue": {
            "description": "Queue information",
            "allOf": [
              {
                "$ref": "#/components/schemas/Queue"
              }
            ]
          },
          "block": {
            "description": "Time block information",
            "allOf": [
              {
                "$ref": "#/components/schemas/Block"
              }
            ]
          },
          "telemedicineSessionId": {
            "type": "string",
            "description": "Telemedicine session ID"
          },
          "telemedicineConfig": {
            "type": "object",
            "description": "Telemedicine configuration",
            "example": {
              "type": "video",
              "scheduledAt": "2024-01-15T10:00:00Z",
              "recordingEnabled": false,
              "notes": "Optional notes"
            }
          },
          "professionalId": {
            "type": "string",
            "description": "Professional ID assigned to booking"
          },
          "professionalName": {
            "type": "string",
            "description": "Professional name assigned to booking"
          }
        },
        "required": [
          "id",
          "commerceId",
          "queueId",
          "number",
          "date",
          "createdAt",
          "type",
          "channel",
          "status",
          "userId",
          "processed",
          "cancelled",
          "beforeYou",
          "user",
          "commerce",
          "queue"
        ]
      },
      "ConfirmBookingDto": {
        "type": "object",
        "properties": {
          "confirmationData": {
            "type": "object",
            "description": "Confirmation data",
            "example": {
              "confirmed": true,
              "confirmedAt": "2024-01-15T10:00:00Z"
            },
            "additionalProperties": true
          }
        }
      },
      "TransferBookingDto": {
        "type": "object",
        "properties": {
          "queueId": {
            "type": "string",
            "description": "Target queue ID",
            "example": "queue-456"
          }
        },
        "required": [
          "queueId"
        ]
      },
      "EditBookingDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "New booking date (YYYY-MM-DD)",
            "example": "2024-01-20"
          },
          "block": {
            "description": "New time block information",
            "allOf": [
              {
                "$ref": "#/components/schemas/BlockDto"
              }
            ]
          },
          "telemedicineConfig": {
            "type": "object",
            "description": "Telemedicine configuration",
            "example": {
              "type": "VIDEO",
              "scheduledAt": "2024-01-20T10:00:00Z",
              "recordingEnabled": false,
              "notes": "Optional notes"
            }
          }
        },
        "required": [
          "date"
        ]
      },
      "Waitlist": {
        "type": "object",
        "properties": {}
      },
      "WaitlistDetailsDto": {
        "type": "object",
        "properties": {}
      },
      "PatientHistory": {
        "type": "object",
        "properties": {}
      },
      "PatientHistoryUpdateDto": {
        "type": "object",
        "properties": {}
      },
      "ConsultationHistory": {
        "type": "object",
        "properties": {}
      },
      "PatientJourneyDto": {
        "type": "object",
        "properties": {}
      },
      "Survey": {
        "type": "object",
        "properties": {}
      },
      "HealthOutputDto": {
        "type": "object",
        "properties": {}
      },
      "Suggestion": {
        "type": "object",
        "properties": {}
      },
      "Feature": {
        "type": "object",
        "properties": {}
      },
      "Product": {
        "type": "object",
        "properties": {}
      },
      "ProductReplacement": {
        "type": "object",
        "properties": {}
      },
      "ProductConsumption": {
        "type": "object",
        "properties": {}
      },
      "Outcome": {
        "type": "object",
        "properties": {}
      },
      "OutcomeType": {
        "type": "object",
        "properties": {}
      },
      "Company": {
        "type": "object",
        "properties": {}
      },
      "PatientHistoryItem": {
        "type": "object",
        "properties": {}
      },
      "PatientPhoto": {
        "type": "object",
        "properties": {}
      },
      "BusinessLogo": {
        "type": "object",
        "properties": {}
      },
      "MedicationCatalog": {
        "type": "object",
        "properties": {}
      },
      "CreateMedicationDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "Commerce ID"
          },
          "name": {
            "type": "string",
            "description": "Nombre genérico del medicamento"
          },
          "commercialName": {
            "type": "string",
            "description": "Nombre comercial"
          },
          "atcCode": {
            "type": "string",
            "description": "Código ATC"
          },
          "activePrinciple": {
            "type": "string",
            "description": "Principio activo"
          },
          "presentation": {
            "type": "string",
            "description": "Presentación (ej: \"500mg comprimidos\")"
          },
          "dosageForm": {
            "type": "string",
            "description": "Forma farmacéutica (comprimido, cápsula, etc.)"
          },
          "route": {
            "type": "string",
            "description": "Vía de administración (oral, tópica, etc.)"
          },
          "standardDosage": {
            "type": "string",
            "description": "Dosis estándar"
          },
          "contraindications": {
            "description": "Contraindicaciones",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "interactions": {
            "description": "Interacciones conocidas",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "Activo",
            "default": true
          },
          "available": {
            "type": "boolean",
            "description": "Disponible",
            "default": true
          }
        },
        "required": [
          "commerceId",
          "name",
          "activePrinciple",
          "presentation",
          "dosageForm",
          "route",
          "active",
          "available"
        ]
      },
      "MedicationItemDto": {
        "type": "object",
        "properties": {
          "medicationId": {
            "type": "string",
            "description": "ID del medicamento en el catálogo",
            "example": "med-123"
          },
          "medicationName": {
            "type": "string",
            "description": "Nombre del medicamento",
            "example": "Paracetamol"
          },
          "commercialName": {
            "type": "string",
            "description": "Nombre comercial",
            "example": "Tylenol"
          },
          "dosage": {
            "type": "string",
            "description": "Dosis",
            "example": "500mg"
          },
          "frequency": {
            "type": "string",
            "description": "Frecuencia",
            "example": "cada 8 horas"
          },
          "duration": {
            "type": "number",
            "description": "Duración en días",
            "example": 7
          },
          "quantity": {
            "type": "number",
            "description": "Cantidad total",
            "example": 21
          },
          "route": {
            "type": "string",
            "description": "Vía de administración",
            "example": "oral"
          },
          "instructions": {
            "type": "string",
            "description": "Indicaciones especiales"
          },
          "refillsAllowed": {
            "type": "number",
            "description": "Número de refuerzos permitidos",
            "example": 2
          }
        },
        "required": [
          "medicationId",
          "medicationName",
          "dosage",
          "frequency",
          "duration",
          "quantity",
          "route",
          "refillsAllowed"
        ]
      },
      "CreatePrescriptionDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "ID del comercio",
            "example": "commerce-123"
          },
          "clientId": {
            "type": "string",
            "description": "ID del cliente/paciente",
            "example": "client-123"
          },
          "attentionId": {
            "type": "string",
            "description": "ID de la atención asociada",
            "example": "attention-123"
          },
          "patientHistoryId": {
            "type": "string",
            "description": "ID del prontuario asociado"
          },
          "doctorId": {
            "type": "string",
            "description": "ID del médico",
            "example": "doctor-123"
          },
          "doctorName": {
            "type": "string",
            "description": "Nombre del médico",
            "example": "Dr. Juan Pérez"
          },
          "doctorLicense": {
            "type": "string",
            "description": "Número de licencia médica"
          },
          "collaboratorId": {
            "type": "string",
            "description": "ID del colaborador que emite (DEPRECATED: usar professionalId)",
            "deprecated": true
          },
          "professionalId": {
            "type": "string",
            "description": "ID del profesional que emite la prescripción"
          },
          "medications": {
            "description": "Lista de medicamentos",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MedicationItemDto"
            }
          },
          "date": {
            "type": "string",
            "description": "Fecha de la receta",
            "example": "2024-01-15T10:00:00Z"
          },
          "validUntil": {
            "type": "string",
            "description": "Fecha de validez",
            "example": "2024-01-30T10:00:00Z"
          },
          "observations": {
            "type": "string",
            "description": "Observaciones"
          },
          "instructions": {
            "type": "string",
            "description": "Instrucciones generales"
          }
        },
        "required": [
          "commerceId",
          "clientId",
          "attentionId",
          "doctorId",
          "doctorName",
          "medications",
          "date",
          "validUntil"
        ]
      },
      "Prescription": {
        "type": "object",
        "properties": {}
      },
      "VerifyPrescriptionResponseDto": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Si el documento es válido"
          },
          "prescriptionId": {
            "type": "string",
            "description": "ID de la prescripción"
          },
          "date": {
            "format": "date-time",
            "type": "string",
            "description": "Fecha de emisión"
          },
          "doctorName": {
            "type": "string",
            "description": "Nombre del médico"
          },
          "doctorLicense": {
            "type": "string",
            "description": "CRM del médico"
          },
          "commerceName": {
            "type": "string",
            "description": "Nombre del comercio/clínica"
          },
          "documentHash": {
            "type": "string",
            "description": "Hash del documento para verificación de integridad"
          },
          "message": {
            "type": "string",
            "description": "Mensaje de verificación"
          },
          "tampered": {
            "type": "boolean",
            "description": "Si el documento ha sido alterado"
          }
        },
        "required": [
          "valid",
          "prescriptionId",
          "date",
          "doctorName",
          "commerceName",
          "documentHash",
          "message"
        ]
      },
      "PdfTemplate": {
        "type": "object",
        "properties": {}
      },
      "CreatePdfTemplateSectionDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Tipo de sección",
            "enum": [
              "header",
              "footer",
              "content"
            ]
          },
          "enabled": {
            "type": "boolean",
            "description": "Si la sección está habilitada"
          },
          "html": {
            "type": "string",
            "description": "HTML personalizado"
          },
          "text": {
            "type": "string",
            "description": "Texto simple"
          },
          "position": {
            "type": "string",
            "description": "Posición"
          },
          "fontSize": {
            "type": "number",
            "description": "Tamaño de fuente"
          },
          "fontFamily": {
            "type": "string",
            "description": "Familia de fuente"
          },
          "color": {
            "type": "string",
            "description": "Color"
          },
          "alignment": {
            "type": "string",
            "description": "Alineación"
          },
          "margin": {
            "type": "object",
            "description": "Márgenes"
          },
          "includeLogo": {
            "type": "boolean",
            "description": "Incluir logo"
          },
          "includeCommerceInfo": {
            "type": "boolean",
            "description": "Incluir info del commerce"
          },
          "includeDoctorInfo": {
            "type": "boolean",
            "description": "Incluir info del médico"
          },
          "includeDate": {
            "type": "boolean",
            "description": "Incluir fecha"
          },
          "includeQrCode": {
            "type": "boolean",
            "description": "Incluir QR code"
          },
          "includeDigitalSignature": {
            "type": "boolean",
            "description": "Incluir firma digital"
          }
        },
        "required": [
          "type"
        ]
      },
      "CreatePdfTemplateDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nombre del template"
          },
          "description": {
            "type": "string",
            "description": "Descripción"
          },
          "documentType": {
            "type": "string",
            "description": "Tipo de documento",
            "enum": [
              "prescription",
              "exam_order",
              "reference"
            ]
          },
          "commerceId": {
            "type": "string",
            "description": "ID del commerce (opcional)"
          },
          "scope": {
            "type": "string",
            "description": "Alcance",
            "enum": [
              "GLOBAL",
              "COMMERCE",
              "PERSONAL"
            ]
          },
          "active": {
            "type": "boolean",
            "description": "Si está activo"
          },
          "available": {
            "type": "boolean",
            "description": "Si está disponible"
          },
          "header": {
            "description": "Sección header",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreatePdfTemplateSectionDto"
              }
            ]
          },
          "footer": {
            "description": "Sección footer",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreatePdfTemplateSectionDto"
              }
            ]
          },
          "content": {
            "description": "Sección content",
            "allOf": [
              {
                "$ref": "#/components/schemas/CreatePdfTemplateSectionDto"
              }
            ]
          },
          "variables": {
            "description": "Variables disponibles",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "pageSize": {
            "type": "string",
            "description": "Tamaño de página"
          },
          "margins": {
            "type": "object",
            "description": "Márgenes"
          },
          "orientation": {
            "type": "string",
            "description": "Orientación"
          },
          "isDefault": {
            "type": "boolean",
            "description": "Si es template por defecto"
          }
        },
        "required": [
          "name",
          "documentType",
          "scope"
        ]
      },
      "Object": {
        "type": "object",
        "properties": {}
      },
      "ClinicalAlert": {
        "type": "object",
        "properties": {}
      },
      "MedicalExam": {
        "type": "object",
        "properties": {}
      },
      "CreateMedicalExamDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "ID del comercio al que pertenece el examen"
          },
          "name": {
            "type": "string",
            "description": "Nombre del examen"
          },
          "code": {
            "type": "string",
            "description": "Código LOINC"
          },
          "type": {
            "type": "string",
            "description": "Tipo de examen",
            "enum": [
              "laboratory",
              "imaging",
              "procedure",
              "other"
            ]
          },
          "category": {
            "type": "string",
            "description": "Categoría"
          },
          "description": {
            "type": "string",
            "description": "Descripción"
          },
          "preparation": {
            "type": "string",
            "description": "Preparación requerida"
          },
          "estimatedDuration": {
            "type": "number",
            "description": "Duración estimada en minutos"
          },
          "cost": {
            "type": "number",
            "description": "Costo"
          },
          "active": {
            "type": "boolean",
            "description": "Activo",
            "default": true
          },
          "available": {
            "type": "boolean",
            "description": "Disponible",
            "default": true
          }
        },
        "required": [
          "commerceId",
          "name",
          "type",
          "active",
          "available"
        ]
      },
      "ExamItemDto": {
        "type": "object",
        "properties": {
          "examId": {
            "type": "string",
            "description": "ID del examen",
            "example": "exam-123"
          },
          "examName": {
            "type": "string",
            "description": "Nombre del examen",
            "example": "Hemograma completo"
          },
          "examCode": {
            "type": "string",
            "description": "Código del examen"
          },
          "preparation": {
            "type": "string",
            "description": "Preparación requerida"
          },
          "instructions": {
            "type": "string",
            "description": "Instrucciones especiales"
          }
        },
        "required": [
          "examId",
          "examName"
        ]
      },
      "CreateExamOrderDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "ID del comercio",
            "example": "commerce-123"
          },
          "clientId": {
            "type": "string",
            "description": "ID del cliente/paciente",
            "example": "client-123"
          },
          "attentionId": {
            "type": "string",
            "description": "ID de la atención asociada",
            "example": "attention-123"
          },
          "patientHistoryId": {
            "type": "string",
            "description": "ID del prontuario asociado"
          },
          "doctorId": {
            "type": "string",
            "description": "ID del médico",
            "example": "doctor-123"
          },
          "doctorName": {
            "type": "string",
            "description": "Nombre del médico",
            "example": "Dr. Juan Pérez"
          },
          "collaboratorId": {
            "type": "string",
            "description": "ID del colaborador que emite (DEPRECATED: usar professionalId)",
            "deprecated": true
          },
          "professionalId": {
            "type": "string",
            "description": "ID del profesional que emite la orden"
          },
          "exams": {
            "description": "Lista de exámenes",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExamItemDto"
            }
          },
          "type": {
            "type": "string",
            "description": "Tipo de examen",
            "enum": [
              "laboratory",
              "imaging",
              "procedure",
              "other"
            ],
            "example": "laboratory"
          },
          "priority": {
            "type": "string",
            "description": "Prioridad",
            "enum": [
              "routine",
              "urgent",
              "emergency"
            ],
            "example": "routine"
          },
          "clinicalJustification": {
            "type": "string",
            "description": "Justificación clínica"
          },
          "scheduledDate": {
            "type": "string",
            "description": "Fecha programada"
          },
          "laboratoryId": {
            "type": "string",
            "description": "ID del laboratorio"
          },
          "laboratoryName": {
            "type": "string",
            "description": "Nombre del laboratorio"
          },
          "hl7OrderNumber": {
            "type": "string",
            "description": "Número de orden para HL7"
          },
          "hl7PatientId": {
            "type": "string",
            "description": "ID de paciente para HL7"
          }
        },
        "required": [
          "commerceId",
          "clientId",
          "attentionId",
          "doctorId",
          "doctorName",
          "exams",
          "type",
          "priority"
        ]
      },
      "MedicalExamOrder": {
        "type": "object",
        "properties": {}
      },
      "ExamValueDto": {
        "type": "object",
        "properties": {
          "parameter": {
            "type": "string",
            "description": "Nombre del parámetro"
          },
          "value": {
            "type": "object",
            "description": "Valor del parámetro"
          },
          "unit": {
            "type": "string",
            "description": "Unidad de medida"
          },
          "referenceRange": {
            "type": "string",
            "description": "Rango de referencia"
          },
          "status": {
            "type": "string",
            "description": "Estado del valor",
            "enum": [
              "normal",
              "high",
              "low",
              "critical"
            ]
          },
          "loincCode": {
            "type": "string",
            "description": "Código LOINC del parámetro"
          }
        },
        "required": [
          "parameter",
          "value"
        ]
      },
      "CreateExamResultDto": {
        "type": "object",
        "properties": {
          "examOrderId": {
            "type": "string",
            "description": "ID de la orden de examen"
          },
          "examName": {
            "type": "string",
            "description": "Nombre del examen"
          },
          "examCode": {
            "type": "string",
            "description": "Código del examen (LOINC)"
          },
          "performedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Fecha de realización del examen"
          },
          "resultDate": {
            "format": "date-time",
            "type": "string",
            "description": "Fecha del resultado"
          },
          "values": {
            "description": "Valores del examen",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExamValueDto"
            }
          },
          "observations": {
            "type": "string",
            "description": "Observaciones"
          },
          "interpretation": {
            "type": "string",
            "description": "Interpretación del médico"
          },
          "status": {
            "type": "string",
            "description": "Estado del resultado",
            "enum": [
              "preliminary",
              "final",
              "corrected"
            ]
          },
          "attachments": {
            "description": "URLs de documentos adjuntos",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "normalRange": {
            "type": "string",
            "description": "Rango normal general"
          }
        },
        "required": [
          "examOrderId",
          "examName",
          "resultDate",
          "values"
        ]
      },
      "ExamResult": {
        "type": "object",
        "properties": {}
      },
      "ExamParameterDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nombre del parámetro"
          },
          "code": {
            "type": "string",
            "description": "Código LOINC del parámetro"
          },
          "unit": {
            "type": "string",
            "description": "Unidad de medida"
          },
          "dataType": {
            "type": "string",
            "description": "Tipo de dato",
            "enum": [
              "numeric",
              "text",
              "boolean",
              "date"
            ]
          },
          "required": {
            "type": "boolean",
            "description": "Si el parámetro es requerido"
          },
          "order": {
            "type": "number",
            "description": "Orden de visualización"
          }
        },
        "required": [
          "name",
          "unit",
          "dataType",
          "required",
          "order"
        ]
      },
      "CreateExamResultTemplateDto": {
        "type": "object",
        "properties": {
          "examCode": {
            "type": "string",
            "description": "Código del examen (LOINC)"
          },
          "examName": {
            "type": "string",
            "description": "Nombre del examen"
          },
          "examType": {
            "type": "string",
            "description": "Tipo de examen"
          },
          "parameters": {
            "description": "Parámetros del examen",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExamParameterDto"
            }
          },
          "normalRanges": {
            "type": "object",
            "description": "Rangos normales por parámetro"
          },
          "criticalValues": {
            "type": "object",
            "description": "Valores críticos por parámetro"
          },
          "commerceId": {
            "type": "string",
            "description": "ID del comercio"
          },
          "businessId": {
            "type": "string",
            "description": "ID del negocio"
          }
        },
        "required": [
          "examCode",
          "examName",
          "parameters"
        ]
      },
      "ExamResultTemplate": {
        "type": "object",
        "properties": {}
      },
      "VerifyExamOrderResponseDto": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Si el documento es válido"
          },
          "examOrderId": {
            "type": "string",
            "description": "ID de la orden de examen"
          },
          "date": {
            "format": "date-time",
            "type": "string",
            "description": "Fecha de emisión"
          },
          "doctorName": {
            "type": "string",
            "description": "Nombre del médico"
          },
          "commerceName": {
            "type": "string",
            "description": "Nombre del comercio/clínica"
          },
          "documentHash": {
            "type": "string",
            "description": "Hash del documento para verificación de integridad"
          },
          "message": {
            "type": "string",
            "description": "Mensaje de verificación"
          },
          "tampered": {
            "type": "boolean",
            "description": "Si el documento ha sido alterado"
          }
        },
        "required": [
          "valid",
          "examOrderId",
          "date",
          "doctorName",
          "commerceName",
          "documentHash",
          "message"
        ]
      },
      "CreateMedicalReferenceDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string",
            "description": "ID del comercio",
            "example": "commerce-123"
          },
          "clientId": {
            "type": "string",
            "description": "ID del cliente/paciente",
            "example": "client-123"
          },
          "attentionId": {
            "type": "string",
            "description": "ID de la atención asociada",
            "example": "attention-123"
          },
          "patientHistoryId": {
            "type": "string",
            "description": "ID del prontuario asociado"
          },
          "doctorOriginId": {
            "type": "string",
            "description": "ID del médico origen",
            "example": "doctor-123"
          },
          "doctorOriginName": {
            "type": "string",
            "description": "Nombre del médico origen",
            "example": "Dr. Juan Pérez"
          },
          "collaboratorId": {
            "type": "string",
            "description": "ID del colaborador que emite (DEPRECATED: usar professionalId)",
            "deprecated": true
          },
          "professionalId": {
            "type": "string",
            "description": "ID del profesional que emite la referencia"
          },
          "doctorDestinationId": {
            "type": "string",
            "description": "ID del médico destino"
          },
          "doctorDestinationName": {
            "type": "string",
            "description": "Nombre del médico destino"
          },
          "specialtyDestination": {
            "type": "string",
            "description": "Especialidad destino",
            "example": "Cardiología"
          },
          "reason": {
            "type": "string",
            "description": "Motivo de la referencia",
            "example": "Evaluación cardiológica"
          },
          "presumptiveDiagnosis": {
            "type": "string",
            "description": "Diagnóstico presuntivo"
          },
          "studiesPerformed": {
            "type": "string",
            "description": "Estudios realizados"
          },
          "currentTreatment": {
            "type": "string",
            "description": "Tratamiento actual"
          },
          "urgency": {
            "type": "string",
            "description": "Urgencia",
            "enum": [
              "routine",
              "preferred",
              "urgent"
            ],
            "example": "routine"
          },
          "attachedDocuments": {
            "description": "Documentos adjuntos",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "commerceId",
          "clientId",
          "attentionId",
          "doctorOriginId",
          "doctorOriginName",
          "specialtyDestination",
          "reason",
          "urgency"
        ]
      },
      "MedicalReference": {
        "type": "object",
        "properties": {}
      },
      "VerifyReferenceResponseDto": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Si el documento es válido"
          },
          "referenceId": {
            "type": "string",
            "description": "ID de la referencia médica"
          },
          "date": {
            "format": "date-time",
            "type": "string",
            "description": "Fecha de emisión"
          },
          "doctorOriginName": {
            "type": "string",
            "description": "Nombre del médico origen"
          },
          "commerceName": {
            "type": "string",
            "description": "Nombre del comercio/clínica"
          },
          "documentHash": {
            "type": "string",
            "description": "Hash del documento para verificación de integridad"
          },
          "message": {
            "type": "string",
            "description": "Mensaje de verificación"
          },
          "tampered": {
            "type": "boolean",
            "description": "Si el documento ha sido alterado"
          }
        },
        "required": [
          "valid",
          "referenceId",
          "date",
          "doctorOriginName",
          "commerceName",
          "documentHash",
          "message"
        ]
      },
      "TemplateVariableDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "date",
              "number",
              "select"
            ]
          },
          "defaultValue": {
            "type": "string"
          },
          "options": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "required": {
            "type": "boolean",
            "default": false
          }
        },
        "required": [
          "name",
          "label",
          "type",
          "required"
        ]
      },
      "CreateMedicalTemplateDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string"
          },
          "doctorId": {
            "type": "string"
          },
          "doctorName": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "diagnostic",
              "anamnesis",
              "evolution",
              "prescription",
              "exam_order",
              "reference",
              "general"
            ]
          },
          "category": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "variables": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TemplateVariableDto"
            }
          },
          "scope": {
            "type": "string",
            "enum": [
              "personal",
              "commerce",
              "global"
            ],
            "default": "personal"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "isFavorite": {
            "type": "boolean",
            "default": false
          }
        },
        "required": [
          "commerceId",
          "doctorId",
          "name",
          "type",
          "content",
          "variables",
          "scope"
        ]
      },
      "MedicalTemplate": {
        "type": "object",
        "properties": {}
      },
      "UpdateMedicalTemplateDto": {
        "type": "object",
        "properties": {
          "commerceId": {
            "type": "string"
          },
          "doctorId": {
            "type": "string"
          },
          "doctorName": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "diagnostic",
              "anamnesis",
              "evolution",
              "prescription",
              "exam_order",
              "reference",
              "general"
            ]
          },
          "category": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "variables": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TemplateVariableDto"
            }
          },
          "scope": {
            "type": "string",
            "enum": [
              "personal",
              "commerce",
              "global"
            ],
            "default": "personal"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "isFavorite": {
            "type": "boolean",
            "default": false
          }
        }
      },
      "ProcessTemplateDto": {
        "type": "object",
        "properties": {
          "templateId": {
            "type": "string"
          },
          "variables": {
            "type": "object"
          }
        },
        "required": [
          "templateId"
        ]
      },
      "ReceiveHL7MessageDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "HL7 message in raw format",
            "example": "MSH|^~\\&|LAB|HOSPITAL|ESV|CLINIC|20240101120000||ORU^R01|12345|P|2.5\rOBR|1||12345^LAB|..."
          },
          "laboratoryId": {
            "type": "string",
            "description": "Laboratory ID sending the message"
          },
          "laboratoryName": {
            "type": "string",
            "description": "Laboratory name"
          }
        },
        "required": [
          "message"
        ]
      },
      "HL7MessageResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Success status"
          },
          "messageId": {
            "type": "string",
            "description": "Message ID"
          },
          "examOrderIds": {
            "description": "Processed exam order IDs",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "error": {
            "type": "string",
            "description": "Error message if any"
          }
        },
        "required": [
          "success",
          "messageId"
        ]
      },
      "CreateLaboratoryDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nombre del laboratorio"
          },
          "code": {
            "type": "string",
            "description": "Código único del laboratorio"
          },
          "commerceId": {
            "type": "string",
            "description": "ID del comercio asociado"
          },
          "businessId": {
            "type": "string",
            "description": "ID del negocio asociado"
          },
          "email": {
            "type": "string",
            "description": "Email de contacto"
          },
          "phone": {
            "type": "string",
            "description": "Teléfono de contacto"
          },
          "address": {
            "type": "string",
            "description": "Dirección"
          },
          "hl7Enabled": {
            "type": "boolean",
            "description": "Habilitado para HL7",
            "default": false
          },
          "hl7ApiKey": {
            "type": "string",
            "description": "API Key para HL7"
          },
          "hl7Endpoint": {
            "type": "string",
            "description": "Endpoint HL7"
          },
          "integrationType": {
            "type": "string",
            "description": "Tipo de integración",
            "enum": [
              "hl7",
              "api",
              "manual"
            ]
          }
        },
        "required": [
          "name",
          "hl7Enabled"
        ]
      },
      "Laboratory": {
        "type": "object",
        "properties": {}
      },
      "Form": {
        "type": "object",
        "properties": {}
      },
      "FormPersonalized": {
        "type": "object",
        "properties": {}
      }
    }
  }
}